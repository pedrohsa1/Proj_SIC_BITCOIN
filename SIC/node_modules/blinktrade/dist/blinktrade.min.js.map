{"version":3,"sources":["webpack:///blinktrade.min.js","webpack:///webpack/bootstrap 94b6de401ca27fb30848","webpack:///./src/index.js","webpack:///./src/constants/brokers.js","webpack:///./src/ws.js","webpack:///external \"lodash\"","webpack:///external \"nodeify\"","webpack:///external \"eventemitter2\"","webpack:///./src/listener.js","webpack:///./src/constants/requestTypes.js","webpack:///./src/constants/actionTypes.js","webpack:///./src/constants/requests.js","webpack:///./src/wsTransport.js","webpack:///external \"fingerprintjs2\"","webpack:///./src/baseTransport.js","webpack:///./src/base.js","webpack:///./src/constants/common.js","webpack:///external \"ws\"","webpack:///./src/util/macaddress.js","webpack:///external \"macaddress\"","webpack:///./src/util/hash32.js","webpack:///./src/util/stun.js","webpack:///external \"ip\"","webpack:///external \"dgram\"","webpack:///external \"os\"","webpack:///./src/rest.js","webpack:///./src/restTransport.js","webpack:///external \"sjcl\"","webpack:///external \"url\"","webpack:///external \"path\"","webpack:///external \"isomorphic-fetch\"","webpack:///external \"fetch-jsonp\""],"names":["module","exports","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","BlinkTradeRest","BlinkTradeWS","Brokers","undefined","_brokers","_brokers2","_ws","_ws2","_rest","_rest2","SURBITCOIN","VBTC","FOXBIT","TESTNET","URDUBIT","CHILEBIT","_defineProperty","key","enumerable","configurable","writable","_objectWithoutProperties","keys","target","i","indexOf","prototype","hasOwnProperty","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_extends","assign","arguments","length","source","_createClass","defineProperties","props","descriptor","protoProps","staticProps","_get","get","object","property","receiver","Function","desc","getOwnPropertyDescriptor","parent","getPrototypeOf","getter","_lodash","_lodash2","_nodeify","_nodeify2","_listener","_actionTypes","_requests","_requests2","_wsTransport","_wsTransport2","_WebSocketTransport","params","this","_this","session","callback","_this2","d","Date","msg","MsgType","HEARTBEAT","TestReqID","getTime","SendTime","extend","Promise","resolve","reject","then","data","Latency","now","catch","nodeify","_ref","_this3","username","password","secondFactor","brokerId","userAgent","isNode","os","UserAgent","type","release","UserAgentLanguage","UserAgentPlatform","platform","arch","UserAgentTimezoneOffset","getTimezoneOffset","window","navigator","language","LOGIN","UserReqID","generateRequestId","BrokerID","Username","Password","UserReqTyp","SecondFactor","UserStatus","LOGOUT","profile","_session$Profile","Profile","_this4","registerListener","balance","eventEmitter","emit","BALANCE","symbols","_this5","SECURITY_STATUS","SecurityStatusReqID","SubscriptionRequestType","Instruments","formatTicker","SellVolume","LowPx","LastPx","BestAsk","HighPx","BuyVolume","BestBid","registerEventEmitter","ticker","Symbol","_this6","MARKET_DATA_FULL_REFRESH","MDReqID","MarketDepth","MDUpdateType","MDEntryTypes","subscribeEvent","MDBkTyp","MDIncGrp","map","order","dataOrder","index","MDEntryPositionNo","price","MDEntryPx","size","MDEntrySize","side","MDEntryType","userId","UserID","orderId","OrderID","symbol","time","MDEntryDate","MDEntryTime","orderbookEvent","EVENTS","ORDERBOOK","MDUpdateAction","bidOfferData","tradeEvent","TRADES","tradeData","_data$MDFullGrp$filte","MDFullGrp","filter","reduce","prev","push","bids","asks","err","MARKET_DATA_UNSUBSCRIBE","_this7","event","EXECUTION_REPORT","ExecType","_this8","_ref2","since","_ref2$page","page","Page","_ref2$pageSize","pageSize","PageSize","TRADE_HISTORY","TradeHistoryReqID","Filter","Since","Columns","trades","TradeHistory","groupBy","TradeHistoryGrp","trade","zipObject","Market","_this9","_ref3","_ref3$currency","currency","depositMethodId","deposit","DEPOSIT_REFRESH","ClOrdID","_ref4","_this10","amount","_ref4$currency","_ref4$method","method","withdraw","WITHDRAW_REFRESH","require","_interopRequireWildcard","newObj","getListeners","requests","parseInt","Math","random","String","getListener","msgType","listeners","getRequest","message","result","mapKeys","RequestTypes","has","find","ReqId","registerRequest","promise","findIndex","deleteRequest","omit","_requestTypes","SOCKET_ID","REQUEST_ID","TEST_REQUEST_ID","USER_REQUEST_ID","SECURITY_REQUEST_ID","RESET_PASSWORD_REQUEST_ID","DEPOSIT_REQUEST_ID","WITHDRAW_REQUEST_ID","BALANCE_REQUEST_ID","ORDERS_REQUEST_ID","ENABLE_TWO_FACTOR_REQUEST_ID","DEPOSIT_METHOD_REQUEST_ID","WITHDRAW_LIST_REQUEST_ID","BROKER_LIST_REQUEST_ID","DEPOSIT_LIST_REQUEST_ID","TRADE_HISTORY_REQUEST_ID","LEDGER_LIST_REQUEST_ID","TRADERS_RANK_REQUEST_ID","UPDATE_REQUEST_ID","POSITION_REQUEST_ID","SECURITY_STATUS_REQUEST_ID","API_KEY_LIST_REQUEST_ID","API_KEY_CREATE_REQUEST_ID","API_KEY_REVOKE_REQUEST_ID","PROCESS_DEPOSIT_REQUEST_ID","CUSTOMER_LIST_REQUEST_ID","CUSTOMER_REQUEST_ID","PROCESS_WITHDRAW_REQUEST_ID","VERIFY_CUSTOMER_REQUEST_ID","MD_REQUEST_ID","CLIENT_ORDER_ID","ORDER_BOOK_TRADE_NEW","ORDER_BOOK","ORDER_BOOK_NEW_ORDER","ORDER_BOOK_UPDATE_ORDER","ORDER_BOOK_DELETE_ORDER","ORDER_BOOK_DELETE_ORDERS_THRU","EXECUTION_REPORT_NEW","EXECUTION_REPORT_PARTIAL","EXECUTION_REPORT_EXECUTION","EXECUTION_REPORT_CANCELED","EXECUTION_REPORT_REJECTED","0","1","2","3","4","8","CHANGE_PASSWORD","ORDER_SEND","ORDER_CANCEL","SECURITY_LIST","ORDER_LIST","BROKER_LIST","PROFILE_UPDATE","REQUEST_DEPOSIT","REQUEST_DEPOSIT_LIST","REQUEST_DEPOSIT_METHODS","REQUEST_WITHDRAW","REQUEST_WITHDRAW_LIST","REQUEST_LEDGER","CONFIRM_WITHDRAW","CANCEL_WITHDRAW","_fingerprintjs","_fingerprintjs2","_eventemitter","_baseTransport","_baseTransport2","WebSocketTransport","_BaseTransport","stun","local","public","getStun","getFingerPrint","fingerPrint","EventEmitter2","wildcard","delimiter","request","WebSocket","socket","endpoint","onopen","onOpen","bind","onclose","onClose","onerror","onError","onmessage","onMessage","close","connected","error","readyState","STUNTIP","FingerPrint","send","JSON","stringify","sendMessage","parse","Error","Detail","Description","listener","dispatchPromise","dispatchListeners","customFingerprint","getMac","macAddress","isBrowser","abs","encodeByteArray","on","onAny","offAny","once","many","times","removeListener","removeAllListeners","events","_base","_base2","BaseTransport","_Base","env","sendMessageAsPromise","fetchTrade","BalanceReqID","Available","balances","includes","_ref$page","_ref$pageSize","OrdersReqID","orders","OrdListGrp","Side","OrdType","Price","OrderQty","param","clientId","_ref3$page","_ref3$pageSize","_ref3$statusList","statusList","StatusList","WithdrawListReqID","withdrawData","WithdrawListGrp","reqId","WithdrawReqID","Method","Amount","Currency","Data","_ref5","WithdrawID","withdrawId","confirmationToken","ConfirmationToken","WithdrawCancelReqID","_ref6","_ref6$page","_ref6$pageSize","_ref6$status","status","DepositListReqID","depositData","DepositListGrp","_ref7","_ref7$currency","DepositReqID","DepositMethodID","Value","DepositMethodReqID","_ref8","_ref8$page","_ref8$pageSize","LedgerListReqID","ledgerData","LedgerListGrp","ledger","_common","_common2","Base","url","prod","testnet","document","ws","rest","_macaddress2","all","hashCode","str","hash","charCodeAt","macAddresses","forEach","iface","mac","_macaddress","bytes","keylen","offset","seed","SEED32","mix","a","CONSTANT32","b","wordAt_","mix32_","toSigned_","n","addIPAddress","ipAddress","match","stunIp","_dgram2","createSocket","STUN_HEADER_LENGTH","stunRequest","Buffer","STUN_METHOD_REQUEST","STUN_BINDING_CLASS","STUN_MAGIC_COOKIE","STUN_TID_MAX","pow","STUN_ATTR_MAPPED_ADDRESS","STUN_ATTR_XOR_MAPPED_ADDRESS","STUN_ATTR_XOR_MAPPED_ADDRESS_ALT","stunTxId","stunServers","writeUInt16BE","writeUInt32BE","xor","tmp","len","block","readUInt8","bit1","bit2","msgHeader","slice","msgAttrs","attrType","readUInt16BE","attrBuffLength","blockOut","family","address","_ip2","toString","magic","tid","xaddr","addr","concat","_slicedToArray","port","host","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","iterator","next","done","Array","isArray","_ip","_dgram","_restTransport","_restTransport2","_RestTransport","apply","_ref$limit","limit","_ref$since","_sjcl","_sjcl2","_url","_url2","_path","_path2","RestTransport","secret","fetchRequest","fetch","body","timeStamp","hexKey","codec","utf8String","toBits","hmac","misc","sha256","Signature","hex","fromBits","encrypt","headers","Content-Type","Nonce","APIKey","api","response","json","join","Status","Responses"],"mappings":"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","file":"blinktrade.min.js","sourcesContent":["module.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.BlinkTradeRest = exports.BlinkTradeWS = exports.Brokers = undefined;\n\t\n\tvar _brokers = __webpack_require__(1);\n\t\n\tvar _brokers2 = _interopRequireDefault(_brokers);\n\t\n\tvar _ws = __webpack_require__(2);\n\t\n\tvar _ws2 = _interopRequireDefault(_ws);\n\t\n\tvar _rest = __webpack_require__(23);\n\t\n\tvar _rest2 = _interopRequireDefault(_rest);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.Brokers = _brokers2.default;\n\texports.BlinkTradeWS = _ws2.default;\n\texports.BlinkTradeRest = _rest2.default; /**\n\t                                          * BlinkTradeJS SDK\n\t                                          * (c) 2016-present BlinkTrade, Inc.\n\t                                          *\n\t                                          * This file is part of BlinkTradeJS\n\t                                          *\n\t                                          * This program is free software: you can redistribute it and/or modify\n\t                                          * it under the terms of the GNU General Public License as published by\n\t                                          * the Free Software Foundation, either version 3 of the License, or\n\t                                          * (at your option) any later version.\n\t                                         \n\t                                          * This program is distributed in the hope that it will be useful,\n\t                                          * but WITHOUT ANY WARRANTY; without even the implied warranty of\n\t                                          * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n\t                                          * GNU General Public License for more details.\n\t                                         \n\t                                          * You should have received a copy of the GNU General Public License\n\t                                          * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\t                                          *\n\t                                          * \n\t                                          */\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  SURBITCOIN: 1,\n\t  VBTC: 3,\n\t  FOXBIT: 4,\n\t  TESTNET: 5,\n\t  URDUBIT: 8,\n\t  CHILEBIT: 9\n\t};\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _lodash = __webpack_require__(3);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _nodeify = __webpack_require__(4);\n\t\n\tvar _nodeify2 = _interopRequireDefault(_nodeify);\n\t\n\tvar _eventemitter = __webpack_require__(5);\n\t\n\tvar _listener = __webpack_require__(6);\n\t\n\tvar _actionTypes = __webpack_require__(8);\n\t\n\tvar _requests = __webpack_require__(9);\n\t\n\tvar _requests2 = _interopRequireDefault(_requests);\n\t\n\tvar _wsTransport = __webpack_require__(10);\n\t\n\tvar _wsTransport2 = _interopRequireDefault(_wsTransport);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * BlinkTradeJS SDK\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * (c) 2016-present BlinkTrade, Inc.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of BlinkTradeJS\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This program is free software: you can redistribute it and/or modify\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * it under the terms of the GNU General Public License as published by\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the Free Software Foundation, either version 3 of the License, or\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * (at your option) any later version.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This program is distributed in the hope that it will be useful,\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * but WITHOUT ANY WARRANTY; without even the implied warranty of\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * GNU General Public License for more details.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You should have received a copy of the GNU General Public License\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\t\n\tvar BlinkTradeWS = function (_WebSocketTransport) {\n\t  _inherits(BlinkTradeWS, _WebSocketTransport);\n\t\n\t  function BlinkTradeWS(params) {\n\t    _classCallCheck(this, BlinkTradeWS);\n\t\n\t    var _this = _possibleConstructorReturn(this, (BlinkTradeWS.__proto__ || Object.getPrototypeOf(BlinkTradeWS)).call(this, params));\n\t\n\t    _this.session = {};\n\t    return _this;\n\t  }\n\t  /**\n\t   * Session to store login information\n\t   */\n\t\n\t\n\t  _createClass(BlinkTradeWS, [{\n\t    key: 'heartbeat',\n\t    value: function heartbeat(callback) {\n\t      var _this2 = this;\n\t\n\t      var d = new Date();\n\t      var msg = {\n\t        MsgType: _requests2.default.HEARTBEAT,\n\t        TestReqID: d.getTime(),\n\t        SendTime: d.getTime()\n\t      };\n\t\n\t      return _nodeify2.default.extend(new Promise(function (resolve, reject) {\n\t        return _get(BlinkTradeWS.prototype.__proto__ || Object.getPrototypeOf(BlinkTradeWS.prototype), 'sendMessageAsPromise', _this2).call(_this2, msg).then(function (data) {\n\t          return resolve(_extends({}, data, {\n\t            Latency: new Date(Date.now()) - data.SendTime\n\t          }));\n\t        }).catch(reject);\n\t      })).nodeify(callback);\n\t    }\n\t  }, {\n\t    key: 'login',\n\t    value: function login(_ref, callback) {\n\t      var _this3 = this;\n\t\n\t      var username = _ref.username,\n\t          password = _ref.password,\n\t          secondFactor = _ref.secondFactor,\n\t          brokerId = _ref.brokerId;\n\t\n\t      var userAgent = void 0;\n\t      if (!this.isNode) {\n\t        userAgent = {\n\t          UserAgent: window.navigator.userAgent,\n\t          UserAgentLanguage: window.navigator.language,\n\t          UserAgentPlatform: window.navigator.platform,\n\t          UserAgentTimezoneOffset: new Date().getTimezoneOffset()\n\t        };\n\t      } else {\n\t        var os = __webpack_require__(22);\n\t        userAgent = {\n\t          UserAgent: os.type() + ' ' + os.release(),\n\t          UserAgentLanguage: 'en_US',\n\t          UserAgentPlatform: os.platform() + ' (' + os.arch() + ')',\n\t          UserAgentTimezoneOffset: new Date().getTimezoneOffset()\n\t        };\n\t      }\n\t\n\t      var msg = _extends({\n\t        MsgType: _requests2.default.LOGIN,\n\t        UserReqID: (0, _listener.generateRequestId)(),\n\t        BrokerID: brokerId || this.brokerId,\n\t        Username: username,\n\t        Password: password,\n\t        UserReqTyp: '1'\n\t      }, userAgent);\n\t\n\t      if (secondFactor) {\n\t        msg.SecondFactor = secondFactor;\n\t      }\n\t\n\t      return _nodeify2.default.extend(new Promise(function (resolve, reject) {\n\t        return _get(BlinkTradeWS.prototype.__proto__ || Object.getPrototypeOf(BlinkTradeWS.prototype), 'sendMessageAsPromise', _this3).call(_this3, msg).then(function (data) {\n\t          if (data.UserStatus === 1) {\n\t            _this3.session = data;\n\t            return resolve(data);\n\t          }\n\t\n\t          return reject(data);\n\t        }).catch(reject);\n\t      })).nodeify(callback);\n\t    }\n\t  }, {\n\t    key: 'logout',\n\t    value: function logout(callback) {\n\t      var msg = {\n\t        MsgType: _requests2.default.LOGOUT,\n\t        BrokerID: this.brokerId,\n\t        UserReqID: (0, _listener.generateRequestId)(),\n\t        Username: this.session.Username,\n\t        UserReqTyp: '2'\n\t      };\n\t\n\t      return _nodeify2.default.extend(_get(BlinkTradeWS.prototype.__proto__ || Object.getPrototypeOf(BlinkTradeWS.prototype), 'sendMessageAsPromise', this).call(this, msg)).nodeify(callback);\n\t    }\n\t  }, {\n\t    key: 'profile',\n\t    value: function profile(callback) {\n\t      var _session$Profile = this.session.Profile,\n\t          VerificationData = _session$Profile.VerificationData,\n\t          profile = _objectWithoutProperties(_session$Profile, ['VerificationData']);\n\t\n\t      return _nodeify2.default.extend(Promise.resolve(profile)).nodeify(callback);\n\t    }\n\t  }, {\n\t    key: 'balance',\n\t    value: function balance(callback) {\n\t      var _this4 = this;\n\t\n\t      return _get(BlinkTradeWS.prototype.__proto__ || Object.getPrototypeOf(BlinkTradeWS.prototype), 'emitterPromise', this).call(this, new Promise(function (resolve, reject) {\n\t        return _get(BlinkTradeWS.prototype.__proto__ || Object.getPrototypeOf(BlinkTradeWS.prototype), 'balance', _this4).call(_this4, callback).then(function (data) {\n\t          (0, _listener.registerListener)('U3', function (balance) {\n\t            callback && callback(null, balance);\n\t            return _this4.eventEmitter.emit(_actionTypes.BALANCE, balance);\n\t          });\n\t          return resolve(data);\n\t        }).catch(reject);\n\t      }));\n\t    }\n\t  }, {\n\t    key: 'subscribeTicker',\n\t    value: function subscribeTicker(symbols, callback) {\n\t      var _this5 = this;\n\t\n\t      var msg = {\n\t        MsgType: _requests2.default.SECURITY_STATUS,\n\t        SecurityStatusReqID: (0, _listener.generateRequestId)(),\n\t        SubscriptionRequestType: '1',\n\t        Instruments: symbols\n\t      };\n\t\n\t      var formatTicker = function formatTicker(data) {\n\t        return _extends({}, data, {\n\t          SellVolume: data.SellVolume / 1e8,\n\t          LowPx: data.LowPx / 1e8,\n\t          LastPx: data.LastPx / 1e8,\n\t          BestAsk: data.BestAsk / 1e8,\n\t          HighPx: data.HighPx / 1e8,\n\t          BuyVolume: data.BuyVolume / 1e8,\n\t          BestBid: data.BestBid / 1e8\n\t        });\n\t      };\n\t\n\t      return _get(BlinkTradeWS.prototype.__proto__ || Object.getPrototypeOf(BlinkTradeWS.prototype), 'emitterPromise', this).call(this, new Promise(function (resolve, reject) {\n\t        return _get(BlinkTradeWS.prototype.__proto__ || Object.getPrototypeOf(BlinkTradeWS.prototype), 'sendMessageAsPromise', _this5).call(_this5, msg).then(function (data) {\n\t          resolve(formatTicker(data));\n\t          (0, _listener.registerEventEmitter)({ SecurityStatusReqID: data.SecurityStatusReqID }, function (ticker) {\n\t            callback && callback(null, formatTicker(ticker));\n\t            return _this5.eventEmitter.emit('BLINK:' + ticker.Symbol, formatTicker(ticker));\n\t          });\n\t        }).catch(reject);\n\t      }), callback);\n\t    }\n\t  }, {\n\t    key: 'unSubscribeTicker',\n\t    value: function unSubscribeTicker(SecurityStatusReqID) {\n\t      var msg = {\n\t        MsgType: _requests2.default.SECURITY_STATUS,\n\t        SecurityStatusReqID: SecurityStatusReqID,\n\t        SubscriptionRequestType: '2'\n\t      };\n\t\n\t      _get(BlinkTradeWS.prototype.__proto__ || Object.getPrototypeOf(BlinkTradeWS.prototype), 'sendMessage', this).call(this, msg);\n\t      return SecurityStatusReqID;\n\t    }\n\t  }, {\n\t    key: 'subscribeOrderbook',\n\t    value: function subscribeOrderbook(symbols, callback) {\n\t      var _this6 = this;\n\t\n\t      var msg = {\n\t        MsgType: _requests2.default.MARKET_DATA_FULL_REFRESH,\n\t        MDReqID: (0, _listener.generateRequestId)(),\n\t        SubscriptionRequestType: '1',\n\t        MarketDepth: 0,\n\t        MDUpdateType: '1', // Incremental refresh\n\t        MDEntryTypes: ['0', '1', '2'],\n\t        Instruments: symbols\n\t      };\n\t\n\t      var subscribeEvent = function subscribeEvent(data) {\n\t        if (data.MDBkTyp === '3') {\n\t          data.MDIncGrp.map(function (order) {\n\t            var dataOrder = {\n\t              index: order.MDEntryPositionNo,\n\t              price: order.MDEntryPx / 1e8,\n\t              size: order.MDEntrySize / 1e8,\n\t              side: order.MDEntryType === '0' ? 'buy' : 'sell',\n\t              userId: order.UserID,\n\t              orderId: order.OrderID,\n\t              symbol: order.Symbol,\n\t              time: new Date(order.MDEntryDate + ' ' + order.MDEntryTime).toString()\n\t            };\n\t\n\t            switch (order.MDEntryType) {\n\t              case '0':\n\t              case '1':\n\t                var orderbookEvent = _actionTypes.ORDER_BOOK + ':' + _actionTypes.EVENTS.ORDERBOOK[order.MDUpdateAction];\n\t                var bidOfferData = _extends({}, dataOrder, { type: orderbookEvent });\n\t\n\t                callback && callback(null, bidOfferData);\n\t                return _this6.eventEmitter.emit(orderbookEvent, bidOfferData);\n\t              case '2':\n\t                var tradeEvent = _actionTypes.ORDER_BOOK + ':' + _actionTypes.EVENTS.TRADES[order.MDUpdateAction];\n\t                var tradeData = _extends({}, dataOrder, { type: tradeEvent });\n\t\n\t                callback && callback(null, tradeData);\n\t                return _this6.eventEmitter.emit(tradeEvent, tradeData);\n\t              case '4':\n\t                break;\n\t              default:\n\t                return null;\n\t            }\n\t            return null;\n\t          });\n\t        }\n\t      };\n\t\n\t      return _get(BlinkTradeWS.prototype.__proto__ || Object.getPrototypeOf(BlinkTradeWS.prototype), 'emitterPromise', this).call(this, new Promise(function (resolve, reject) {\n\t        return _get(BlinkTradeWS.prototype.__proto__ || Object.getPrototypeOf(BlinkTradeWS.prototype), 'sendMessageAsPromise', _this6).call(_this6, msg).then(function (data) {\n\t          if (data.MsgType === 'W') {\n\t            // Split orders in bids and asks\n\t            /* eslint-disable no-param-reassign */\n\t            var _data$MDFullGrp$filte = data.MDFullGrp.filter(function (order) {\n\t              return order.MDEntryType === '0' || order.MDEntryType === '1';\n\t            }).reduce(function (prev, order) {\n\t              var side = order.MDEntryType === '0' ? 'bids' : 'asks';\n\t              (prev[side] || (prev[side] = [])).push([order.MDEntryPx / 1e8, order.MDEntrySize / 1e8, order.UserID]);\n\t              return prev;\n\t            }, []),\n\t                bids = _data$MDFullGrp$filte.bids,\n\t                asks = _data$MDFullGrp$filte.asks;\n\t            /* eslint-enable no-param-reassign */\n\t\n\t            (0, _listener.registerEventEmitter)({ MDReqID: data.MDReqID }, subscribeEvent);\n\t\n\t            return resolve(_extends({}, data, {\n\t              MDFullGrp: _defineProperty({}, data.Symbol, {\n\t                bids: bids,\n\t                asks: asks\n\t              })\n\t            }));\n\t          }\n\t        }).catch(function (err) {\n\t          return reject(err);\n\t        });\n\t      }), callback);\n\t    }\n\t  }, {\n\t    key: 'unSubscribeOrderbook',\n\t    value: function unSubscribeOrderbook(MDReqID) {\n\t      var msg = {\n\t        MsgType: _requests2.default.MARKET_DATA_UNSUBSCRIBE,\n\t        MDReqID: MDReqID,\n\t        MarketDepth: 0,\n\t        SubscriptionRequestType: '2'\n\t      };\n\t\n\t      _get(BlinkTradeWS.prototype.__proto__ || Object.getPrototypeOf(BlinkTradeWS.prototype), 'sendMessage', this).call(this, msg);\n\t      return MDReqID;\n\t    }\n\t  }, {\n\t    key: 'executionReport',\n\t    value: function executionReport(callback) {\n\t      var _this7 = this;\n\t\n\t      (0, _listener.registerListener)('8', function (data) {\n\t        callback && callback(data);\n\t        var event = _actionTypes.EVENTS.EXECUTION_REPORT[data.ExecType];\n\t        return _this7.eventEmitter.emit(_actionTypes.EXECUTION_REPORT + ':' + event, data);\n\t      });\n\t\n\t      return this.eventEmitter;\n\t    }\n\t  }, {\n\t    key: 'tradeHistory',\n\t    value: function tradeHistory() {\n\t      var _this8 = this;\n\t\n\t      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n\t          since = _ref2.since,\n\t          filter = _ref2.filter,\n\t          _ref2$page = _ref2.page,\n\t          Page = _ref2$page === undefined ? 0 : _ref2$page,\n\t          _ref2$pageSize = _ref2.pageSize,\n\t          PageSize = _ref2$pageSize === undefined ? 80 : _ref2$pageSize;\n\t\n\t      var callback = arguments[1];\n\t\n\t      var msg = {\n\t        MsgType: _requests2.default.TRADE_HISTORY,\n\t        TradeHistoryReqID: (0, _listener.generateRequestId)(),\n\t        Page: Page,\n\t        PageSize: PageSize\n\t      };\n\t\n\t      if (filter && filter.length > 0) {\n\t        msg.Filter = filter;\n\t      }\n\t\n\t      if (since && typeof since === 'number') {\n\t        msg.Since = since;\n\t      }\n\t\n\t      return _nodeify2.default.extend(new Promise(function (resolve, reject) {\n\t        return _get(BlinkTradeWS.prototype.__proto__ || Object.getPrototypeOf(BlinkTradeWS.prototype), 'sendMessageAsPromise', _this8).call(_this8, msg).then(function (data) {\n\t          var Columns = data.Columns,\n\t              trades = _objectWithoutProperties(data, ['Columns']);\n\t\n\t          var TradeHistory = _lodash2.default.groupBy(_lodash2.default.map(data.TradeHistoryGrp, function (trade) {\n\t            return _lodash2.default.zipObject(Columns, trade);\n\t          }), function (trade) {\n\t            return trade.Market;\n\t          });\n\t          return resolve(_extends({}, trades, {\n\t            TradeHistoryGrp: TradeHistory\n\t          }));\n\t        }).catch(reject);\n\t      })).nodeify(callback);\n\t    }\n\t  }, {\n\t    key: 'requestDeposit',\n\t    value: function requestDeposit() {\n\t      var _this9 = this;\n\t\n\t      var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n\t          _ref3$currency = _ref3.currency,\n\t          currency = _ref3$currency === undefined ? 'BTC' : _ref3$currency,\n\t          value = _ref3.value,\n\t          depositMethodId = _ref3.depositMethodId;\n\t\n\t      var callback = arguments[1];\n\t\n\t      var subscribeEvent = function subscribeEvent(deposit) {\n\t        callback && callback(null, deposit);\n\t        return _this9.eventEmitter.emit(_actionTypes.DEPOSIT_REFRESH, deposit);\n\t      };\n\t\n\t      return _get(BlinkTradeWS.prototype.__proto__ || Object.getPrototypeOf(BlinkTradeWS.prototype), 'emitterPromise', this).call(this, new Promise(function (resolve, reject) {\n\t        return _get(BlinkTradeWS.prototype.__proto__ || Object.getPrototypeOf(BlinkTradeWS.prototype), 'requestDeposit', _this9).call(_this9, { currency: currency, value: value, depositMethodId: depositMethodId }).then(function (deposit) {\n\t          (0, _listener.registerEventEmitter)({ ClOrdID: deposit.ClOrdID }, subscribeEvent);\n\t          return resolve(deposit);\n\t        }).catch(reject);\n\t      }), callback);\n\t    }\n\t  }, {\n\t    key: 'onDepositRefresh',\n\t    value: function onDepositRefresh(callback) {\n\t      return new Promise(function (resolve) {\n\t        (0, _listener.registerListener)('U23', function (deposit) {\n\t          callback && callback(deposit);\n\t          return resolve(deposit);\n\t        });\n\t      });\n\t    }\n\t  }, {\n\t    key: 'requestWithdraw',\n\t    value: function requestWithdraw(_ref4, callback) {\n\t      var _this10 = this;\n\t\n\t      var amount = _ref4.amount,\n\t          data = _ref4.data,\n\t          _ref4$currency = _ref4.currency,\n\t          currency = _ref4$currency === undefined ? 'BTC' : _ref4$currency,\n\t          _ref4$method = _ref4.method,\n\t          method = _ref4$method === undefined ? 'bitcoin' : _ref4$method;\n\t\n\t      var subscribeEvent = function subscribeEvent(withdraw) {\n\t        callback && callback(null, withdraw);\n\t        return _this10.eventEmitter.emit(_actionTypes.WITHDRAW_REFRESH, withdraw);\n\t      };\n\t\n\t      return _get(BlinkTradeWS.prototype.__proto__ || Object.getPrototypeOf(BlinkTradeWS.prototype), 'emitterPromise', this).call(this, new Promise(function (resolve, reject) {\n\t        return _get(BlinkTradeWS.prototype.__proto__ || Object.getPrototypeOf(BlinkTradeWS.prototype), 'requestWithdraw', _this10).call(_this10, { amount: amount, data: data, currency: currency, method: method }).then(function (withdraw) {\n\t          (0, _listener.registerEventEmitter)({ ClOrdID: withdraw.ClOrdID }, subscribeEvent);\n\t          return resolve(withdraw);\n\t        }).catch(reject);\n\t      }), callback);\n\t    }\n\t  }, {\n\t    key: 'onWithdrawRefresh',\n\t    value: function onWithdrawRefresh(callback) {\n\t      return new Promise(function (resolve) {\n\t        (0, _listener.registerListener)('U9', function (withdraw) {\n\t          callback && callback(withdraw);\n\t          return resolve(withdraw);\n\t        });\n\t      });\n\t    }\n\t  }]);\n\t\n\t  return BlinkTradeWS;\n\t}(_wsTransport2.default);\n\t\n\texports.default = BlinkTradeWS;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"lodash\");\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"nodeify\");\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"eventemitter2\");\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /**\n\t                                                                                                                                                                                                                                                                   * BlinkTradeJS SDK\n\t                                                                                                                                                                                                                                                                   * (c) 2016-present BlinkTrade, Inc.\n\t                                                                                                                                                                                                                                                                   *\n\t                                                                                                                                                                                                                                                                   * This file is part of BlinkTradeJS\n\t                                                                                                                                                                                                                                                                   *\n\t                                                                                                                                                                                                                                                                   * This program is free software: you can redistribute it and/or modify\n\t                                                                                                                                                                                                                                                                   * it under the terms of the GNU General Public License as published by\n\t                                                                                                                                                                                                                                                                   * the Free Software Foundation, either version 3 of the License, or\n\t                                                                                                                                                                                                                                                                   * (at your option) any later version.\n\t                                                                                                                                                                                                                                                                  \n\t                                                                                                                                                                                                                                                                   * This program is distributed in the hope that it will be useful,\n\t                                                                                                                                                                                                                                                                   * but WITHOUT ANY WARRANTY; without even the implied warranty of\n\t                                                                                                                                                                                                                                                                   * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n\t                                                                                                                                                                                                                                                                   * GNU General Public License for more details.\n\t                                                                                                                                                                                                                                                                  \n\t                                                                                                                                                                                                                                                                   * You should have received a copy of the GNU General Public License\n\t                                                                                                                                                                                                                                                                   * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\t                                                                                                                                                                                                                                                                   *\n\t                                                                                                                                                                                                                                                                   * \n\t                                                                                                                                                                                                                                                                   */\n\t\n\texports.getListeners = getListeners;\n\texports.generateRequestId = generateRequestId;\n\texports.getListener = getListener;\n\texports.getRequest = getRequest;\n\texports.registerRequest = registerRequest;\n\texports.registerEventEmitter = registerEventEmitter;\n\texports.registerListener = registerListener;\n\texports.deleteRequest = deleteRequest;\n\t\n\tvar _lodash = __webpack_require__(3);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _requestTypes = __webpack_require__(7);\n\t\n\tvar RequestTypes = _interopRequireWildcard(_requestTypes);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar requests = {};\n\tvar listeners = {};\n\t\n\tfunction getListeners() {\n\t  return requests;\n\t}\n\t\n\tfunction generateRequestId() {\n\t  return parseInt(String(1e7 * Math.random()), 10);\n\t}\n\t\n\tfunction getListener(msgType) {\n\t  return listeners[msgType];\n\t}\n\t\n\tfunction getRequest(message) {\n\t  var result = void 0;\n\t  _lodash2.default.mapKeys(RequestTypes, function (key) {\n\t    if (_lodash2.default.has(message, key) && message[key]) {\n\t      result = _lodash2.default.find(requests[key], { ReqId: String(message[key]) }) || result;\n\t    }\n\t  });\n\t\n\t  return result;\n\t}\n\t\n\tfunction registerRequest(message, promise) {\n\t  _lodash2.default.mapKeys(RequestTypes, function (key) {\n\t    if (_lodash2.default.has(message, key)) {\n\t      requests[key] = requests[key] || [];\n\t      requests[key].push(_extends({ ReqId: String(message[key]) }, promise));\n\t    }\n\t  });\n\t\n\t  return requests;\n\t}\n\t\n\tfunction registerEventEmitter(message, callback) {\n\t  _lodash2.default.mapKeys(RequestTypes, function (key) {\n\t    if (_lodash2.default.has(message, key)) {\n\t      if (requests[key] !== []) {\n\t        var index = _lodash2.default.findIndex(requests[key], { ReqId: String(message[key]) });\n\t        requests[key][index] = _extends({}, requests[key][index], {\n\t          resolve: null,\n\t          reject: null,\n\t          callback: callback\n\t        });\n\t      }\n\t    }\n\t  });\n\t\n\t  return requests;\n\t}\n\t\n\tfunction registerListener(msgType, callback) {\n\t  listeners[msgType] = listeners[msgType] || [];\n\t  listeners[msgType] = callback;\n\t}\n\t\n\tfunction deleteRequest(key) {\n\t  requests = _lodash2.default.omit(requests, [key]);\n\t  return requests;\n\t}\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar SOCKET_ID = exports.SOCKET_ID = 'SocketID';\n\tvar REQUEST_ID = exports.REQUEST_ID = 'ReqID';\n\tvar TEST_REQUEST_ID = exports.TEST_REQUEST_ID = 'TestReqID';\n\tvar USER_REQUEST_ID = exports.USER_REQUEST_ID = 'UserReqID';\n\tvar SECURITY_REQUEST_ID = exports.SECURITY_REQUEST_ID = 'SecurityReqID';\n\tvar RESET_PASSWORD_REQUEST_ID = exports.RESET_PASSWORD_REQUEST_ID = 'ResetPasswordReqID';\n\tvar DEPOSIT_REQUEST_ID = exports.DEPOSIT_REQUEST_ID = 'DepositReqID';\n\tvar WITHDRAW_REQUEST_ID = exports.WITHDRAW_REQUEST_ID = 'WithdrawReqID';\n\tvar BALANCE_REQUEST_ID = exports.BALANCE_REQUEST_ID = 'BalanceReqID';\n\tvar ORDERS_REQUEST_ID = exports.ORDERS_REQUEST_ID = 'OrdersReqID';\n\tvar ENABLE_TWO_FACTOR_REQUEST_ID = exports.ENABLE_TWO_FACTOR_REQUEST_ID = 'EnableTwoFactorReqID';\n\tvar DEPOSIT_METHOD_REQUEST_ID = exports.DEPOSIT_METHOD_REQUEST_ID = 'DepositMethodReqID';\n\tvar WITHDRAW_LIST_REQUEST_ID = exports.WITHDRAW_LIST_REQUEST_ID = 'WithdrawListReqID';\n\tvar BROKER_LIST_REQUEST_ID = exports.BROKER_LIST_REQUEST_ID = 'BrokerListReqID';\n\tvar DEPOSIT_LIST_REQUEST_ID = exports.DEPOSIT_LIST_REQUEST_ID = 'DepositListReqID';\n\tvar TRADE_HISTORY_REQUEST_ID = exports.TRADE_HISTORY_REQUEST_ID = 'TradeHistoryReqID';\n\tvar LEDGER_LIST_REQUEST_ID = exports.LEDGER_LIST_REQUEST_ID = 'LedgerListReqID';\n\tvar TRADERS_RANK_REQUEST_ID = exports.TRADERS_RANK_REQUEST_ID = 'TradersRankReqID';\n\tvar UPDATE_REQUEST_ID = exports.UPDATE_REQUEST_ID = 'UpdateReqID';\n\tvar POSITION_REQUEST_ID = exports.POSITION_REQUEST_ID = 'PositionReqID';\n\tvar SECURITY_STATUS_REQUEST_ID = exports.SECURITY_STATUS_REQUEST_ID = 'SecurityStatusReqID';\n\tvar API_KEY_LIST_REQUEST_ID = exports.API_KEY_LIST_REQUEST_ID = 'APIKeyListReqID';\n\tvar API_KEY_CREATE_REQUEST_ID = exports.API_KEY_CREATE_REQUEST_ID = 'APIKeyCreateReqID';\n\tvar API_KEY_REVOKE_REQUEST_ID = exports.API_KEY_REVOKE_REQUEST_ID = 'APIKeyRevokeReqID';\n\tvar PROCESS_DEPOSIT_REQUEST_ID = exports.PROCESS_DEPOSIT_REQUEST_ID = 'ProcessDepositReqID';\n\tvar CUSTOMER_LIST_REQUEST_ID = exports.CUSTOMER_LIST_REQUEST_ID = 'CustomerListReqID';\n\tvar CUSTOMER_REQUEST_ID = exports.CUSTOMER_REQUEST_ID = 'CustomerReqID';\n\tvar PROCESS_WITHDRAW_REQUEST_ID = exports.PROCESS_WITHDRAW_REQUEST_ID = 'ProcessWithdrawReqID';\n\tvar VERIFY_CUSTOMER_REQUEST_ID = exports.VERIFY_CUSTOMER_REQUEST_ID = 'VerifyCustomerReqID';\n\tvar MD_REQUEST_ID = exports.MD_REQUEST_ID = 'MDReqID';\n\tvar CLIENT_ORDER_ID = exports.CLIENT_ORDER_ID = 'ClOrdID';\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar BALANCE = exports.BALANCE = 'BALANCE';\n\t\n\tvar ORDER_BOOK = exports.ORDER_BOOK = 'OB';\n\tvar ORDER_BOOK_TRADE_NEW = exports.ORDER_BOOK_TRADE_NEW = 'TRADE_NEW';\n\tvar ORDER_BOOK_NEW_ORDER = exports.ORDER_BOOK_NEW_ORDER = 'NEW_ORDER';\n\tvar ORDER_BOOK_UPDATE_ORDER = exports.ORDER_BOOK_UPDATE_ORDER = 'UPDATE_ORDER';\n\tvar ORDER_BOOK_DELETE_ORDER = exports.ORDER_BOOK_DELETE_ORDER = 'DELETE_ORDER';\n\tvar ORDER_BOOK_DELETE_ORDERS_THRU = exports.ORDER_BOOK_DELETE_ORDERS_THRU = 'DELETE_ORDERS_THRU';\n\t\n\tvar EXECUTION_REPORT = exports.EXECUTION_REPORT = 'EXECUTION_REPORT';\n\tvar EXECUTION_REPORT_NEW = exports.EXECUTION_REPORT_NEW = 'NEW';\n\tvar EXECUTION_REPORT_PARTIAL = exports.EXECUTION_REPORT_PARTIAL = 'PARTIAL';\n\tvar EXECUTION_REPORT_EXECUTION = exports.EXECUTION_REPORT_EXECUTION = 'EXECUTION';\n\tvar EXECUTION_REPORT_CANCELED = exports.EXECUTION_REPORT_CANCELED = 'CANCELED';\n\tvar EXECUTION_REPORT_REJECTED = exports.EXECUTION_REPORT_REJECTED = 'REJECTED';\n\t\n\tvar DEPOSIT_REFRESH = exports.DEPOSIT_REFRESH = 'DEPOSIT_REFRESH';\n\tvar WITHDRAW_REFRESH = exports.WITHDRAW_REFRESH = 'WITHDRAW_REFRESH';\n\t\n\t/* eslint-disable quote-props */\n\tvar EVENTS = exports.EVENTS = {\n\t  ORDERBOOK: {\n\t    '0': ORDER_BOOK_NEW_ORDER,\n\t    '1': ORDER_BOOK_UPDATE_ORDER,\n\t    '2': ORDER_BOOK_DELETE_ORDER,\n\t    '3': ORDER_BOOK_DELETE_ORDERS_THRU\n\t  },\n\t  TRADES: {\n\t    '0': ORDER_BOOK_TRADE_NEW\n\t  },\n\t  EXECUTION_REPORT: {\n\t    '0': EXECUTION_REPORT_NEW,\n\t    '1': EXECUTION_REPORT_PARTIAL,\n\t    '2': EXECUTION_REPORT_EXECUTION,\n\t    '4': EXECUTION_REPORT_CANCELED,\n\t    '8': EXECUTION_REPORT_REJECTED\n\t  }\n\t};\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  HEARTBEAT: '1',\n\t  LOGIN: 'BE',\n\t  LOGOUT: 'BE',\n\t  CHANGE_PASSWORD: 'BE',\n\t\n\t  MARKET_DATA_FULL_REFRESH: 'V',\n\t  MARKET_DATA_UNSUBSCRIBE: 'V',\n\t\n\t  ORDER_SEND: 'D',\n\t  ORDER_CANCEL: 'F',\n\t\n\t  SECURITY_LIST: 'x',\n\t  SECURITY_STATUS: 'e',\n\t  BALANCE: 'U2',\n\t  ORDER_LIST: 'U4',\n\t  BROKER_LIST: 'U28',\n\t  TRADE_HISTORY: 'U32',\n\t  PROFILE_UPDATE: 'U38',\n\t\n\t  REQUEST_DEPOSIT: 'U18',\n\t  REQUEST_DEPOSIT_LIST: 'U30',\n\t  REQUEST_DEPOSIT_METHODS: 'U20',\n\t  REQUEST_WITHDRAW: 'U6',\n\t  REQUEST_WITHDRAW_LIST: 'U26',\n\t\n\t  REQUEST_LEDGER: 'U34',\n\t\n\t  CONFIRM_WITHDRAW: 'U24',\n\t  CANCEL_WITHDRAW: 'U70'\n\t};\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _nodeify = __webpack_require__(4);\n\t\n\tvar _nodeify2 = _interopRequireDefault(_nodeify);\n\t\n\tvar _fingerprintjs = __webpack_require__(11);\n\t\n\tvar _fingerprintjs2 = _interopRequireDefault(_fingerprintjs);\n\t\n\tvar _eventemitter = __webpack_require__(5);\n\t\n\tvar _baseTransport = __webpack_require__(12);\n\t\n\tvar _baseTransport2 = _interopRequireDefault(_baseTransport);\n\t\n\tvar _listener = __webpack_require__(6);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * BlinkTradeJS SDK\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * (c) 2016-present BlinkTrade, Inc.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of BlinkTradeJS\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This program is free software: you can redistribute it and/or modify\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * it under the terms of the GNU General Public License as published by\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the Free Software Foundation, either version 3 of the License, or\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * (at your option) any later version.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This program is distributed in the hope that it will be useful,\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * but WITHOUT ANY WARRANTY; without even the implied warranty of\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * GNU General Public License for more details.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You should have received a copy of the GNU General Public License\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\t\n\tvar WebSocketTransport = function (_BaseTransport) {\n\t  _inherits(WebSocketTransport, _BaseTransport);\n\t\n\t  /*\n\t   * Transport Promise\n\t   */\n\t\n\t\n\t  /*\n\t   * FingerPrint\n\t   */\n\t  function WebSocketTransport() {\n\t    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t    _classCallCheck(this, WebSocketTransport);\n\t\n\t    var _this = _possibleConstructorReturn(this, (WebSocketTransport.__proto__ || Object.getPrototypeOf(WebSocketTransport)).call(this, params, 'ws'));\n\t\n\t    _this.stun = { local: null, public: [] };\n\t\n\t    _this.getStun();\n\t    _this.getFingerPrint(params.fingerPrint);\n\t\n\t    _this.eventEmitter = new _eventemitter.EventEmitter2({ wildcard: true, delimiter: ':' });\n\t    return _this;\n\t  }\n\t\n\t  /*\n\t   * Event emitter to dispatch websocket updates\n\t   */\n\t\n\t\n\t  /*\n\t   * Stun object\n\t   */\n\t\n\t  /*\n\t   * WebSocket Instance\n\t   */\n\t\n\t\n\t  _createClass(WebSocketTransport, [{\n\t    key: 'connect',\n\t    value: function connect(callback) {\n\t      var _this2 = this;\n\t\n\t      return _nodeify2.default.extend(new Promise(function (resolve, reject) {\n\t        _this2.request = { resolve: resolve, reject: reject };\n\t\n\t        var WebSocket = _this2.isNode ? __webpack_require__(15) : window.WebSocket;\n\t\n\t        _this2.socket = new WebSocket(_this2.endpoint);\n\t        _this2.socket.onopen = _this2.onOpen.bind(_this2);\n\t        _this2.socket.onclose = _this2.onClose.bind(_this2);\n\t        _this2.socket.onerror = _this2.onError.bind(_this2);\n\t        _this2.socket.onmessage = _this2.onMessage.bind(_this2);\n\t      })).nodeify(callback);\n\t    }\n\t  }, {\n\t    key: 'disconnect',\n\t    value: function disconnect() {\n\t      this.socket.close();\n\t    }\n\t  }, {\n\t    key: 'onOpen',\n\t    value: function onOpen() {\n\t      this.request.resolve({ connected: true });\n\t    }\n\t  }, {\n\t    key: 'onClose',\n\t    value: function onClose() {}\n\t  }, {\n\t    key: 'onError',\n\t    value: function onError(error) {\n\t      this.request.reject(error);\n\t    }\n\t\n\t    /* eslint-disable no-unused-vars */\n\t\n\t  }, {\n\t    key: 'sendMessage',\n\t    value: function sendMessage(msg, promise) {\n\t      if (this.socket.readyState === 1) {\n\t        var data = msg;\n\t\n\t        data.STUNTIP = this.stun;\n\t        data.FingerPrint = this.fingerPrint;\n\t\n\t        this.socket.send(JSON.stringify(data));\n\t      }\n\t    }\n\t    /* eslint-enable no-unused-vars */\n\t\n\t  }, {\n\t    key: 'sendMessageAsPromise',\n\t    value: function sendMessageAsPromise(msg) {\n\t      var _this3 = this;\n\t\n\t      return new Promise(function (resolve, reject) {\n\t        var promise = { resolve: resolve, reject: reject };\n\t        (0, _listener.registerRequest)(msg, promise);\n\t        // We are passing the promise as a parameter to spy it in our tests\n\t        _this3.sendMessage(msg, promise);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'onMessage',\n\t    value: function onMessage(msg) {\n\t      var data = JSON.parse(msg.data);\n\t      if (data.MsgType === 'ERROR') {\n\t        throw new Error('Error: ' + data.Detail + ' ' + data.Description);\n\t      }\n\t\n\t      var request = (0, _listener.getRequest)(data);\n\t      var listener = (0, _listener.getListener)(data.MsgType);\n\t      this.dispatchPromise(request, data);\n\t      this.dispatchListeners(listener, data);\n\t    }\n\t\n\t    /* eslint-disable indent */\n\t\n\t  }, {\n\t    key: 'dispatchPromise',\n\t    value: function dispatchPromise(request, data) {\n\t      if (request) {\n\t        return request.resolve ? request.resolve(data) : request.callback ? request.callback(data) : null;\n\t      }\n\t    }\n\t    /* eslint-enable indent */\n\t\n\t  }, {\n\t    key: 'dispatchListeners',\n\t    value: function dispatchListeners(listener, data) {\n\t      return listener && listener(data);\n\t    }\n\t  }, {\n\t    key: 'getFingerPrint',\n\t    value: function getFingerPrint(customFingerprint) {\n\t      var _this4 = this;\n\t\n\t      if (this.isNode) {\n\t        return __webpack_require__(16).getMac(function (macAddress) {\n\t          _this4.fingerPrint = macAddress;\n\t        });\n\t      } else if (this.isBrowser) {\n\t        return new _fingerprintjs2.default().get(function (fingerPrint) {\n\t          _this4.fingerPrint = Math.abs(__webpack_require__(18).encodeByteArray(fingerPrint)).toString();\n\t        });\n\t      } else if (customFingerprint) {\n\t        this.fingerPrint = customFingerprint;\n\t      } else {\n\t        throw new Error('FingerPrint not provided');\n\t      }\n\t    }\n\t  }, {\n\t    key: 'getStun',\n\t    value: function getStun() {\n\t      var _this5 = this;\n\t\n\t      if (this.isNode) {\n\t        __webpack_require__(19).getStun(function (data) {\n\t          _this5.stun = data;\n\t        });\n\t      }\n\t    }\n\t\n\t    /* eslint-disable no-param-reassign */\n\t\n\t  }, {\n\t    key: 'emitterPromise',\n\t    value: function emitterPromise(promise, callback) {\n\t      var _this6 = this;\n\t\n\t      promise.on = function (event, listener) {\n\t        _this6.eventEmitter.on(event, listener);\n\t        return promise;\n\t      };\n\t      promise.onAny = function (listener) {\n\t        _this6.eventEmitter.onAny(listener);\n\t        return promise;\n\t      };\n\t      promise.offAny = function (listener) {\n\t        _this6.eventEmitter.offAny(listener);\n\t        return promise;\n\t      };\n\t      promise.once = function (event, listener) {\n\t        _this6.eventEmitter.once(event, listener);\n\t        return promise;\n\t      };\n\t      promise.many = function (event, times, listener) {\n\t        _this6.eventEmitter.many(event, times, listener);\n\t        return promise;\n\t      };\n\t      promise.removeListener = function (event, listener) {\n\t        _this6.eventEmitter.removeListener(event, listener);\n\t        return promise;\n\t      };\n\t      promise.removeAllListeners = function (events) {\n\t        _this6.eventEmitter.removeAllListeners(events);\n\t        return promise;\n\t      };\n\t\n\t      return _nodeify2.default.extend(promise).nodeify(callback);\n\t    }\n\t    /* eslint-enable no-param-reassign */\n\t\n\t  }]);\n\t\n\t  return WebSocketTransport;\n\t}(_baseTransport2.default);\n\t\n\texports.default = WebSocketTransport;\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"fingerprintjs2\");\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _lodash = __webpack_require__(3);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _nodeify = __webpack_require__(4);\n\t\n\tvar _nodeify2 = _interopRequireDefault(_nodeify);\n\t\n\tvar _base = __webpack_require__(13);\n\t\n\tvar _base2 = _interopRequireDefault(_base);\n\t\n\tvar _requests = __webpack_require__(9);\n\t\n\tvar _requests2 = _interopRequireDefault(_requests);\n\t\n\tvar _requestTypes = __webpack_require__(7);\n\t\n\tvar RequestTypes = _interopRequireWildcard(_requestTypes);\n\t\n\tvar _listener = __webpack_require__(6);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * BlinkTradeJS SDK\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * (c) 2016-present BlinkTrade, Inc.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of BlinkTradeJS\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This program is free software: you can redistribute it and/or modify\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * it under the terms of the GNU General Public License as published by\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the Free Software Foundation, either version 3 of the License, or\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * (at your option) any later version.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This program is distributed in the hope that it will be useful,\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * but WITHOUT ANY WARRANTY; without even the implied warranty of\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * GNU General Public License for more details.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You should have received a copy of the GNU General Public License\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\t\n\tvar BaseTransport = function (_Base) {\n\t  _inherits(BaseTransport, _Base);\n\t\n\t  function BaseTransport(params, env) {\n\t    _classCallCheck(this, BaseTransport);\n\t\n\t    var _this = _possibleConstructorReturn(this, (BaseTransport.__proto__ || Object.getPrototypeOf(BaseTransport)).call(this, params, env));\n\t\n\t    _this.send = env === 'ws' ? _this.sendMessageAsPromise : _this.fetchTrade;\n\t    return _this;\n\t  }\n\t\n\t  _createClass(BaseTransport, [{\n\t    key: 'balance',\n\t    value: function balance(callback) {\n\t      var _this2 = this;\n\t\n\t      var msg = {\n\t        MsgType: _requests2.default.BALANCE,\n\t        BalanceReqID: (0, _listener.generateRequestId)()\n\t      };\n\t\n\t      return _nodeify2.default.extend(new Promise(function (resolve, reject) {\n\t        return _this2.send(msg).then(function (data) {\n\t          var Available = {};\n\t          var balances = data[_this2.brokerId];\n\t          if (balances) {\n\t            Object.keys(balances).map(function (currency) {\n\t              if (!currency.includes('locked')) {\n\t                Available[currency] = balances[currency] - balances[currency + '_locked'];\n\t              }\n\t              return Available;\n\t            });\n\t          }\n\t\n\t          return resolve(_extends({}, data, { Available: Available }));\n\t        }).catch(reject);\n\t      })).nodeify(callback);\n\t    }\n\t  }, {\n\t    key: 'myOrders',\n\t    value: function myOrders() {\n\t      var _this3 = this;\n\t\n\t      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n\t          _ref$page = _ref.page,\n\t          Page = _ref$page === undefined ? 0 : _ref$page,\n\t          _ref$pageSize = _ref.pageSize,\n\t          PageSize = _ref$pageSize === undefined ? 40 : _ref$pageSize;\n\t\n\t      var callback = arguments[1];\n\t\n\t      var msg = {\n\t        MsgType: _requests2.default.ORDER_LIST,\n\t        OrdersReqID: (0, _listener.generateRequestId)(),\n\t        Page: Page,\n\t        PageSize: PageSize\n\t      };\n\t\n\t      return _nodeify2.default.extend(new Promise(function (resolve, reject) {\n\t        return _this3.send(msg).then(function (data) {\n\t          var Columns = data.Columns,\n\t              orders = _objectWithoutProperties(data, ['Columns']);\n\t\n\t          var OrdListGrp = _lodash2.default.map(data.OrdListGrp, function (order) {\n\t            return _lodash2.default.zipObject(Columns, order);\n\t          });\n\t          return resolve(_extends({}, orders, {\n\t            OrdListGrp: OrdListGrp\n\t          }));\n\t        }).catch(reject);\n\t      })).nodeify(callback);\n\t    }\n\t  }, {\n\t    key: 'sendOrder',\n\t    value: function sendOrder(_ref2, callback) {\n\t      var _this4 = this;\n\t\n\t      var side = _ref2.side,\n\t          amount = _ref2.amount,\n\t          price = _ref2.price,\n\t          symbol = _ref2.symbol;\n\t\n\t      var msg = {\n\t        MsgType: _requests2.default.ORDER_SEND,\n\t        ClOrdID: (0, _listener.generateRequestId)(),\n\t        Symbol: symbol,\n\t        Side: side,\n\t        OrdType: '2',\n\t        Price: price,\n\t        OrderQty: amount,\n\t        BrokerID: this.brokerId\n\t      };\n\t\n\t      return _nodeify2.default.extend(new Promise(function (resolve, reject) {\n\t        return _this4.send(msg).then(function (data) {\n\t          (0, _listener.deleteRequest)(RequestTypes.CLIENT_ORDER_ID);\n\t          resolve(data);\n\t        }).catch(reject);\n\t      })).nodeify(callback);\n\t    }\n\t  }, {\n\t    key: 'cancelOrder',\n\t    value: function cancelOrder() {\n\t      var param = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t      var callback = arguments[1];\n\t\n\t      var orderId = param.orderId ? param.orderId : param;\n\t      var msg = {\n\t        MsgType: _requests2.default.ORDER_CANCEL\n\t      };\n\t\n\t      if (param.clientId) {\n\t        msg.ClOrdID = param.clientId;\n\t      }\n\t\n\t      if (param.orderId) {\n\t        msg.OrderID = orderId;\n\t      }\n\t\n\t      return _nodeify2.default.extend(this.send(msg)).nodeify(callback);\n\t    }\n\t\n\t    /**\n\t     * statusList: 1-Pending, 2-In Progress, 4-Completed, 8-Cancelled\n\t     */\n\t\n\t  }, {\n\t    key: 'requestWithdrawList',\n\t    value: function requestWithdrawList() {\n\t      var _this5 = this;\n\t\n\t      var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n\t          _ref3$page = _ref3.page,\n\t          Page = _ref3$page === undefined ? 0 : _ref3$page,\n\t          _ref3$pageSize = _ref3.pageSize,\n\t          PageSize = _ref3$pageSize === undefined ? 20 : _ref3$pageSize,\n\t          _ref3$statusList = _ref3.statusList,\n\t          StatusList = _ref3$statusList === undefined ? ['1', '2', '4', '8'] : _ref3$statusList;\n\t\n\t      var callback = arguments[1];\n\t\n\t      var msg = {\n\t        MsgType: _requests2.default.REQUEST_WITHDRAW_LIST,\n\t        WithdrawListReqID: (0, _listener.generateRequestId)(),\n\t        Page: Page,\n\t        PageSize: PageSize,\n\t        StatusList: StatusList\n\t      };\n\t\n\t      return _nodeify2.default.extend(new Promise(function (resolve, reject) {\n\t        return _this5.send(msg).then(function (data) {\n\t          var Columns = data.Columns,\n\t              withdrawData = _objectWithoutProperties(data, ['Columns']);\n\t\n\t          var WithdrawListGrp = _lodash2.default.map(data.WithdrawListGrp, function (withdraw) {\n\t            return _lodash2.default.zipObject(Columns, withdraw);\n\t          });\n\t          return resolve(_extends({}, withdrawData, {\n\t            WithdrawListGrp: WithdrawListGrp\n\t          }));\n\t        }).catch(reject);\n\t      })).nodeify(callback);\n\t    }\n\t  }, {\n\t    key: 'requestWithdraw',\n\t    value: function requestWithdraw(_ref4, callback) {\n\t      var amount = _ref4.amount,\n\t          data = _ref4.data,\n\t          _ref4$currency = _ref4.currency,\n\t          currency = _ref4$currency === undefined ? 'BTC' : _ref4$currency,\n\t          _ref4$method = _ref4.method,\n\t          method = _ref4$method === undefined ? 'bitcoin' : _ref4$method;\n\t\n\t      var reqId = (0, _listener.generateRequestId)();\n\t      var msg = {\n\t        MsgType: _requests2.default.REQUEST_WITHDRAW,\n\t        WithdrawReqID: reqId,\n\t        ClOrdID: reqId,\n\t        Method: method,\n\t        Amount: amount,\n\t        Currency: currency,\n\t        Data: data\n\t      };\n\t\n\t      return _nodeify2.default.extend(this.send(msg)).nodeify(callback);\n\t    }\n\t  }, {\n\t    key: 'confirmWithdraw',\n\t    value: function confirmWithdraw(_ref5, callback) {\n\t      var _this6 = this;\n\t\n\t      var WithdrawID = _ref5.withdrawId,\n\t          confirmationToken = _ref5.confirmationToken,\n\t          secondFactor = _ref5.secondFactor;\n\t\n\t      var msg = {\n\t        MsgType: _requests2.default.CONFIRM_WITHDRAW,\n\t        WithdrawReqID: (0, _listener.generateRequestId)(),\n\t        WithdrawID: WithdrawID\n\t      };\n\t\n\t      if (confirmationToken) {\n\t        msg.ConfirmationToken = confirmationToken;\n\t      }\n\t\n\t      if (secondFactor) {\n\t        msg.SecondFactor = secondFactor;\n\t      }\n\t\n\t      return _nodeify2.default.extend(new Promise(function (resolve, reject) {\n\t        return _this6.send(msg).then(function (data) {\n\t          return resolve(_extends({}, data));\n\t        }).catch(reject);\n\t      })).nodeify(callback);\n\t    }\n\t  }, {\n\t    key: 'cancelWithdraw',\n\t    value: function cancelWithdraw(withdrawId, callback) {\n\t      var _this7 = this;\n\t\n\t      var reqId = (0, _listener.generateRequestId)();\n\t      var msg = {\n\t        MsgType: _requests2.default.CANCEL_WITHDRAW,\n\t        WithdrawCancelReqID: reqId,\n\t        ClOrdID: reqId,\n\t        WithdrawID: withdrawId\n\t      };\n\t\n\t      return _nodeify2.default.extend(new Promise(function (resolve, reject) {\n\t        return _this7.send(msg).then(function (data) {\n\t          return resolve(_extends({}, data));\n\t        }).catch(reject);\n\t      })).nodeify(callback);\n\t    }\n\t  }, {\n\t    key: 'requestDepositList',\n\t    value: function requestDepositList() {\n\t      var _this8 = this;\n\t\n\t      var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n\t          _ref6$page = _ref6.page,\n\t          Page = _ref6$page === undefined ? 0 : _ref6$page,\n\t          _ref6$pageSize = _ref6.pageSize,\n\t          PageSize = _ref6$pageSize === undefined ? 20 : _ref6$pageSize,\n\t          _ref6$status = _ref6.status,\n\t          StatusList = _ref6$status === undefined ? ['1', '2', '4', '8'] : _ref6$status;\n\t\n\t      var callback = arguments[1];\n\t\n\t      var msg = {\n\t        MsgType: _requests2.default.REQUEST_DEPOSIT_LIST,\n\t        DepositListReqID: (0, _listener.generateRequestId)(),\n\t        Page: Page,\n\t        PageSize: PageSize,\n\t        StatusList: StatusList\n\t      };\n\t\n\t      return _nodeify2.default.extend(new Promise(function (resolve, reject) {\n\t        return _this8.send(msg).then(function (data) {\n\t          var Columns = data.Columns,\n\t              depositData = _objectWithoutProperties(data, ['Columns']);\n\t\n\t          var DepositListGrp = _lodash2.default.map(data.DepositListGrp, function (deposit) {\n\t            return _lodash2.default.zipObject(Columns, deposit);\n\t          });\n\t          return resolve(_extends({}, depositData, {\n\t            DepositListGrp: DepositListGrp\n\t          }));\n\t        }).catch(reject);\n\t      })).nodeify(callback);\n\t    }\n\t  }, {\n\t    key: 'requestDeposit',\n\t    value: function requestDeposit() {\n\t      var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n\t          _ref7$currency = _ref7.currency,\n\t          currency = _ref7$currency === undefined ? 'BTC' : _ref7$currency,\n\t          value = _ref7.value,\n\t          depositMethodId = _ref7.depositMethodId;\n\t\n\t      var callback = arguments[1];\n\t\n\t      var reqId = (0, _listener.generateRequestId)();\n\t      var msg = {\n\t        MsgType: _requests2.default.REQUEST_DEPOSIT,\n\t        DepositReqID: reqId,\n\t        ClOrdID: reqId,\n\t        Currency: currency,\n\t        BrokerID: this.brokerId\n\t      };\n\t\n\t      if (currency !== 'BTC') {\n\t        msg.DepositMethodID = depositMethodId;\n\t        msg.Value = value;\n\t      }\n\t\n\t      return _nodeify2.default.extend(this.send(msg)).nodeify(callback);\n\t    }\n\t  }, {\n\t    key: 'requestDepositMethods',\n\t    value: function requestDepositMethods(callback) {\n\t      var msg = {\n\t        MsgType: _requests2.default.REQUEST_DEPOSIT_METHODS,\n\t        DepositMethodReqID: (0, _listener.generateRequestId)()\n\t      };\n\t\n\t      return _nodeify2.default.extend(this.send(msg)).nodeify(callback);\n\t    }\n\t  }, {\n\t    key: 'requestLedger',\n\t    value: function requestLedger() {\n\t      var _this9 = this;\n\t\n\t      var _ref8 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n\t          _ref8$page = _ref8.page,\n\t          Page = _ref8$page === undefined ? 0 : _ref8$page,\n\t          _ref8$pageSize = _ref8.pageSize,\n\t          PageSize = _ref8$pageSize === undefined ? 20 : _ref8$pageSize,\n\t          currency = _ref8.currency,\n\t          filter = _ref8.filter;\n\t\n\t      var callback = arguments[1];\n\t\n\t      var msg = {\n\t        MsgType: _requests2.default.REQUEST_LEDGER,\n\t        LedgerListReqID: (0, _listener.generateRequestId)(),\n\t        Page: Page,\n\t        PageSize: PageSize\n\t      };\n\t\n\t      if (currency) {\n\t        msg.Currency = currency;\n\t      }\n\t      if (filter) {\n\t        msg.Filter = filter;\n\t      }\n\t\n\t      return _nodeify2.default.extend(new Promise(function (resolve, reject) {\n\t        return _this9.send(msg).then(function (data) {\n\t          var Columns = data.Columns,\n\t              ledgerData = _objectWithoutProperties(data, ['Columns']);\n\t\n\t          var LedgerListGrp = _lodash2.default.map(data.LedgerListGrp, function (ledger) {\n\t            return _lodash2.default.zipObject(Columns, ledger);\n\t          });\n\t          resolve(_extends({}, ledgerData, {\n\t            LedgerListGrp: LedgerListGrp\n\t          }));\n\t        }).catch(reject);\n\t      })).nodeify(callback);\n\t    }\n\t  }]);\n\t\n\t  return BaseTransport;\n\t}(_base2.default);\n\t\n\texports.default = BaseTransport;\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _common = __webpack_require__(14);\n\t\n\tvar _common2 = _interopRequireDefault(_common);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } } /**\n\t                                                                                                                                                           * BlinkTradeJS SDK\n\t                                                                                                                                                           * (c) 2016-present BlinkTrade, Inc.\n\t                                                                                                                                                           *\n\t                                                                                                                                                           * This file is part of BlinkTradeJS\n\t                                                                                                                                                           *\n\t                                                                                                                                                           * This program is free software: you can redistribute it and/or modify\n\t                                                                                                                                                           * it under the terms of the GNU General Public License as published by\n\t                                                                                                                                                           * the Free Software Foundation, either version 3 of the License, or\n\t                                                                                                                                                           * (at your option) any later version.\n\t                                                                                                                                                          \n\t                                                                                                                                                           * This program is distributed in the hope that it will be useful,\n\t                                                                                                                                                           * but WITHOUT ANY WARRANTY; without even the implied warranty of\n\t                                                                                                                                                           * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n\t                                                                                                                                                           * GNU General Public License for more details.\n\t                                                                                                                                                          \n\t                                                                                                                                                           * You should have received a copy of the GNU General Public License\n\t                                                                                                                                                           * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\t                                                                                                                                                           *\n\t                                                                                                                                                           * \n\t                                                                                                                                                           */\n\t\n\tvar Base =\n\t\n\t/*\n\t * Is node.js environment.\n\t */\n\t\n\t/*\n\t * url endpoint.\n\t */\n\tfunction Base() {\n\t  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t  var env = arguments[1];\n\t\n\t  _classCallCheck(this, Base);\n\t\n\t  /* eslint-disable indent */\n\t  var endpoint = params.url ? params.url : params.prod ? _common2.default.prod[env] : _common2.default.testnet[env];\n\t  /* eslint-enable indent */\n\t\n\t  this.brokerId = params.brokerId || 5;\n\t\n\t  this.endpoint = endpoint;\n\t\n\t  this.isNode = typeof window === 'undefined';\n\t  this.isBrowser = typeof document !== 'undefined';\n\t}\n\t\n\t/*\n\t * Is browser environment.\n\t */\n\t\n\t\n\t/*\n\t * Broker id\n\t */\n\t;\n\t\n\texports.default = Base;\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  prod: {\n\t    ws: 'wss://ws.blinktrade.com/trade/',\n\t    rest: 'https://api.blinktrade.com/'\n\t  },\n\t  testnet: {\n\t    ws: 'wss://api_testnet.blinktrade.com/trade/',\n\t    rest: 'https://api_testnet.blinktrade.com/'\n\t  }\n\t};\n\n/***/ },\n/* 15 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"ws\");\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.getMac = getMac;\n\t\n\tvar _macaddress = __webpack_require__(17);\n\t\n\tvar _macaddress2 = _interopRequireDefault(_macaddress);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction getMac(callback) {\n\t  _macaddress2.default.all(function (err, all) {\n\t    var hashCode = function hashCode(str) {\n\t      var hash = 0;\n\t      if (str.length === 0) return hash;\n\t      for (var i = 0; i < str.length; i++) {\n\t        hash = (hash << 5) - hash + str.charCodeAt(i);\n\t        hash = hash & hash; // Convert to 32bit integer\n\t      }\n\t      return hash;\n\t    };\n\t\n\t    var macAddresses = '';\n\t    Object.keys(all).forEach(function (iface) {\n\t      macAddresses += all[iface].mac;\n\t    });\n\t\n\t    var fingerPrint = hashCode(macAddresses);\n\t    if (fingerPrint < 0) {\n\t      fingerPrint *= -1;\n\t    }\n\t\n\t    callback(fingerPrint);\n\t  });\n\t} /**\n\t   * BlinkTradeJS SDK\n\t   * (c) 2016-present BlinkTrade, Inc.\n\t   *\n\t   * This file is part of BlinkTradeJS\n\t   *\n\t   * This program is free software: you can redistribute it and/or modify\n\t   * it under the terms of the GNU General Public License as published by\n\t   * the Free Software Foundation, either version 3 of the License, or\n\t   * (at your option) any later version.\n\t  \n\t   * This program is distributed in the hope that it will be useful,\n\t   * but WITHOUT ANY WARRANTY; without even the implied warranty of\n\t   * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n\t   * GNU General Public License for more details.\n\t  \n\t   * You should have received a copy of the GNU General Public License\n\t   * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\t   *\n\t   * \n\t   */\n\t\n\t/* eslint-disable operator-assignment */\n\t/* eslint-disable no-plusplus */\n\t/* eslint-disable import/prefer-default-export */\n\n/***/ },\n/* 17 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"macaddress\");\n\n/***/ },\n/* 18 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.encodeByteArray = encodeByteArray;\n\t/* eslint-disable no-var */\n\t/* eslint-disable no-bitwise */\n\t/* eslint-disable no-param-reassign */\n\t/* eslint-disable no-fallthrough */\n\t/* eslint-disable no-underscore-dangle */\n\t/* eslint-disable default-case */\n\t/* eslint-disable prefer-destructuring */\n\t/*\n\t * ByteArray enconding from google-closure-library\n\t */\n\t\n\tvar SEED32 = 314159265;\n\tvar CONSTANT32 = -1640531527;\n\t\n\t/**\n\t * Performs an inplace mix of an object with the integer properties (a, b, c)\n\t * and returns the final value of c.\n\t * @param {Object} mix Object with properties, a, b, and c.\n\t * @return {number} The end c-value for the mixing.\n\t * @private\n\t */\n\tvar mix32_ = function mix32_(mix) {\n\t  var a = mix.a;\n\t  var b = mix.b;\n\t  var c = mix.c;\n\t  a -= b;\n\t  a -= c;\n\t  a ^= c >>> 13;\n\t  b -= c;\n\t  b -= a;\n\t  b ^= a << 8;\n\t  c -= a;\n\t  c -= b;\n\t  c ^= b >>> 13;\n\t  a -= b;\n\t  a -= c;\n\t  a ^= c >>> 12;\n\t  b -= c;\n\t  b -= a;\n\t  b ^= a << 16;\n\t  c -= a;\n\t  c -= b;\n\t  c ^= b >>> 5;\n\t  a -= b;\n\t  a -= c;\n\t  a ^= c >>> 3;\n\t  b -= c;\n\t  b -= a;\n\t  b ^= a << 10;\n\t  c -= a;\n\t  c -= b;\n\t  c ^= b >>> 15;\n\t  mix.a = a;\n\t  mix.b = b;\n\t  mix.c = c;\n\t  return c;\n\t};\n\t\n\t/**\n\t * Converts an unsigned \"byte\" to signed, that is, convert a value in the range\n\t * (0, 2^8-1) to (-2^7, 2^7-1) in order to be compatible with Java's byte type.\n\t * @param {number} n Unsigned \"byte\" value.\n\t * @return {number} Signed \"byte\" value.\n\t * @private\n\t */\n\tvar toSigned_ = function toSigned_(n) {\n\t  return n > 127 ? n - 256 : n;\n\t};\n\t\n\tvar wordAt_ = function wordAt_(bytes, offset) {\n\t  var a = toSigned_(bytes[offset + 0]);\n\t  var b = toSigned_(bytes[offset + 1]);\n\t  var c = toSigned_(bytes[offset + 2]);\n\t  var d = toSigned_(bytes[offset + 3]);\n\t  return a + (b << 8) + (c << 16) + (d << 24);\n\t};\n\t\n\t/**\n\t * Hashes a \"byte\" array to a 32-bit value using the supplied seed.\n\t */\n\tfunction encodeByteArray(bytes) {\n\t  var offset = 0;\n\t  var length = bytes.length;\n\t  var seed = SEED32;\n\t\n\t  var mix = {\n\t    a: CONSTANT32,\n\t    b: CONSTANT32,\n\t    c: seed\n\t  };\n\t\n\t  var keylen;\n\t  for (keylen = length; keylen >= 12; keylen -= 12, offset += 12) {\n\t    mix.a += wordAt_(bytes, offset);\n\t    mix.b += wordAt_(bytes, offset + 4);\n\t    mix.c += wordAt_(bytes, offset + 8);\n\t    mix32_(mix);\n\t  }\n\t  // Hash any remaining bytes\n\t  mix.c += length;\n\t  switch (keylen) {// deal with rest.  Some cases fall through\n\t    case 11:\n\t      mix.c += bytes[offset + 10] << 24;\n\t    case 10:\n\t      mix.c += (bytes[offset + 9] & 0xff) << 16;\n\t    case 9:\n\t      mix.c += (bytes[offset + 8] & 0xff) << 8;\n\t    // the first byte of c is reserved for the length\n\t    case 8:\n\t      mix.b += wordAt_(bytes, offset + 4);\n\t      mix.a += wordAt_(bytes, offset);\n\t      break;\n\t    case 7:\n\t      mix.b += (bytes[offset + 6] & 0xff) << 16;\n\t    case 6:\n\t      mix.b += (bytes[offset + 5] & 0xff) << 8;\n\t    case 5:\n\t      mix.b += bytes[offset + 4] & 0xff;\n\t    case 4:\n\t      mix.a += wordAt_(bytes, offset);\n\t      break;\n\t    case 3:\n\t      mix.a += (bytes[offset + 2] & 0xff) << 16;\n\t    case 2:\n\t      mix.a += (bytes[offset + 1] & 0xff) << 8;\n\t    case 1:\n\t      mix.a += bytes[offset + 0] & 0xff;\n\t    // case 0 : nothing left to add\n\t  }\n\t  return mix32_(mix);\n\t}\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }(); /**\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * BlinkTradeJS SDK\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * (c) 2016-present BlinkTrade, Inc.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * This file is part of BlinkTradeJS\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * This program is free software: you can redistribute it and/or modify\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * it under the terms of the GNU General Public License as published by\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * the Free Software Foundation, either version 3 of the License, or\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * (at your option) any later version.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * This program is distributed in the hope that it will be useful,\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * but WITHOUT ANY WARRANTY; without even the implied warranty of\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * GNU General Public License for more details.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * You should have received a copy of the GNU General Public License\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          */\n\t\n\t/* eslint-disable no-param-reassign */\n\t/* eslint-disable no-plusplus */\n\t/* eslint-disable import/prefer-default-export */\n\t/* eslint-disable no-restricted-properties */\n\t/* eslint-disable no-buffer-constructor */\n\t\n\texports.getStun = getStun;\n\t\n\tvar _ip = __webpack_require__(20);\n\t\n\tvar _ip2 = _interopRequireDefault(_ip);\n\t\n\tvar _dgram = __webpack_require__(21);\n\t\n\tvar _dgram2 = _interopRequireDefault(_dgram);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar stunIp = { local: null, public: [] };\n\t\n\tfunction addIPAddress(ipAddress) {\n\t  if (ipAddress.match(/^(192\\.168\\.|169\\.254\\.|10\\.|172\\.(1[6-9]|2\\d|3[01]))/)) {\n\t    stunIp.local = ipAddress;\n\t  } else if (stunIp.public.indexOf(ipAddress) === -1) {\n\t    stunIp.public.push(ipAddress);\n\t  }\n\t}\n\t\n\tfunction getStun(callback) {\n\t  var socket = _dgram2.default.createSocket('udp4');\n\t\n\t  var STUN_HEADER_LENGTH = 20;\n\t  var stunRequest = new Buffer(STUN_HEADER_LENGTH);\n\t\n\t  var STUN_METHOD_REQUEST = 0x000;\n\t  var STUN_BINDING_CLASS = 0x0001;\n\t  var STUN_MAGIC_COOKIE = 0x2112A442;\n\t  var STUN_TID_MAX = Math.pow(2, 32);\n\t\n\t  var STUN_ATTR_MAPPED_ADDRESS = 0x0001;\n\t  var STUN_ATTR_XOR_MAPPED_ADDRESS = 0x8020;\n\t  var STUN_ATTR_XOR_MAPPED_ADDRESS_ALT = 0x0020;\n\t\n\t  var stunTxId = Math.random() * STUN_TID_MAX;\n\t\n\t  var stunServers = [[3478, 'stun.services.mozilla.com'], [19302, 'stun.l.google.com'], [3478, 'stun.stunprotocol.org'], [3478, 'stun.softjoys.com'], [3478, 'stun.samsungsmartcam.com'], [3478, 'stun.sonetel.com'], [3478, 'stun.tagan.ru'], [3478, 'stun.voipgain.com'], [3478, 'stunserver.org'], [3478, 'stun.advfn.com'], [3478, 'stun.annatel.net'], [3478, 'stun.freevoipdeal.com']];\n\t\n\t  stunRequest.writeUInt16BE((STUN_BINDING_CLASS | STUN_METHOD_REQUEST) & 0x3fff, 0);\n\t  stunRequest.writeUInt16BE(0, 2);\n\t  stunRequest.writeUInt32BE(STUN_MAGIC_COOKIE, 4);\n\t  stunRequest.writeUInt32BE(0, 8);\n\t  stunRequest.writeUInt32BE(0, 12);\n\t  stunRequest.writeUInt32BE(stunTxId, 16);\n\t\n\t  socket.on('message', function (msg) {\n\t    var xor = function xor(a, b) {\n\t      var data = [];\n\t      if (b.length > a.length) {\n\t        var tmp = a;\n\t        a = b;\n\t        b = tmp;\n\t      }\n\t      for (var i = 0, len = a.length; i < len; i++) {\n\t        data.push(a[i] ^ b[i]);\n\t      }\n\t\n\t      return new Buffer(data);\n\t    };\n\t\n\t    var block = msg.readUInt8(0);\n\t    var bit1 = block & 0x80;\n\t    var bit2 = block & 0x40;\n\t\n\t    if (!(bit1 === 0 && bit2 === 0)) {\n\t      return;\n\t    }\n\t\n\t    var msgHeader = msg.slice(0, STUN_HEADER_LENGTH);\n\t    var msgAttrs = msg.slice(STUN_HEADER_LENGTH, msg.length);\n\t\n\t    var offset = 0;\n\t\n\t    while (offset < msgAttrs.length) {\n\t      var attrType = msgAttrs.readUInt16BE(offset);\n\t      offset += 2;\n\t\n\t      var attrBuffLength = msgAttrs.readUInt16BE(offset);\n\t      var blockOut = attrBuffLength % 4;\n\t      if (blockOut > 0) {\n\t        attrBuffLength += 4 - blockOut;\n\t      }\n\t      offset += 2;\n\t\n\t      var value = msgAttrs.slice(offset, offset + attrBuffLength);\n\t      offset += attrBuffLength;\n\t\n\t      var family = void 0;\n\t      var address = void 0;\n\t      switch (attrType) {\n\t        case STUN_ATTR_MAPPED_ADDRESS:\n\t          family = value.readUInt16BE(0) === 0x02 ? 6 : 4;\n\t          address = _ip2.default.toString(value, 4, family);\n\t          addIPAddress(address);\n\t          break;\n\t\n\t        case STUN_ATTR_XOR_MAPPED_ADDRESS:\n\t        case STUN_ATTR_XOR_MAPPED_ADDRESS_ALT:\n\t          family = value.readUInt16BE(0) === 0x02 ? 6 : 4;\n\t          var magic = msgHeader.slice(4, 8);\n\t          var tid = msgHeader.slice(8, 20);\n\t          var xaddr = value.slice(4, family === 4 ? 8 : 20);\n\t          var addr = xor(xaddr, family === 4 ? magic : value.concat([magic, tid]));\n\t          address = _ip2.default.toString(addr, 0, family);\n\t          addIPAddress(address);\n\t          break;\n\t        default:\n\t      }\n\t    }\n\t\n\t    callback(stunIp);\n\t  });\n\t\n\t  stunServers.map(function (_ref) {\n\t    var _ref2 = _slicedToArray(_ref, 2),\n\t        port = _ref2[0],\n\t        host = _ref2[1];\n\t\n\t    return socket.send(stunRequest, 0, stunRequest.length, port, host, function () {});\n\t  });\n\t}\n\n/***/ },\n/* 20 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"ip\");\n\n/***/ },\n/* 21 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"dgram\");\n\n/***/ },\n/* 22 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"os\");\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _nodeify = __webpack_require__(4);\n\t\n\tvar _nodeify2 = _interopRequireDefault(_nodeify);\n\t\n\tvar _restTransport = __webpack_require__(24);\n\t\n\tvar _restTransport2 = _interopRequireDefault(_restTransport);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * BlinkTradeJS SDK\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * (c) 2016-present BlinkTrade, Inc.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of BlinkTradeJS\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This program is free software: you can redistribute it and/or modify\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * it under the terms of the GNU General Public License as published by\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the Free Software Foundation, either version 3 of the License, or\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * (at your option) any later version.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This program is distributed in the hope that it will be useful,\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * but WITHOUT ANY WARRANTY; without even the implied warranty of\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * GNU General Public License for more details.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You should have received a copy of the GNU General Public License\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\t\n\tvar BlinkTradeRest = function (_RestTransport) {\n\t  _inherits(BlinkTradeRest, _RestTransport);\n\t\n\t  function BlinkTradeRest() {\n\t    _classCallCheck(this, BlinkTradeRest);\n\t\n\t    return _possibleConstructorReturn(this, (BlinkTradeRest.__proto__ || Object.getPrototypeOf(BlinkTradeRest)).apply(this, arguments));\n\t  }\n\t\n\t  _createClass(BlinkTradeRest, [{\n\t    key: 'ticker',\n\t    value: function ticker(callback) {\n\t      return _nodeify2.default.extend(_get(BlinkTradeRest.prototype.__proto__ || Object.getPrototypeOf(BlinkTradeRest.prototype), 'fetchPublic', this).call(this, 'ticker')).nodeify(callback);\n\t    }\n\t  }, {\n\t    key: 'trades',\n\t    value: function trades() {\n\t      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n\t          _ref$limit = _ref.limit,\n\t          limit = _ref$limit === undefined ? 1000 : _ref$limit,\n\t          _ref$since = _ref.since,\n\t          since = _ref$since === undefined ? '0' : _ref$since;\n\t\n\t      var callback = arguments[1];\n\t\n\t      return _nodeify2.default.extend(_get(BlinkTradeRest.prototype.__proto__ || Object.getPrototypeOf(BlinkTradeRest.prototype), 'fetchPublic', this).call(this, 'trades?limit=' + limit + '&since=' + since)).nodeify(callback);\n\t    }\n\t  }, {\n\t    key: 'orderbook',\n\t    value: function orderbook(callback) {\n\t      return _nodeify2.default.extend(_get(BlinkTradeRest.prototype.__proto__ || Object.getPrototypeOf(BlinkTradeRest.prototype), 'fetchPublic', this).call(this, 'orderbook')).nodeify(callback);\n\t    }\n\t  }]);\n\t\n\t  return BlinkTradeRest;\n\t}(_restTransport2.default);\n\t\n\texports.default = BlinkTradeRest;\n\n/***/ },\n/* 24 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _sjcl = __webpack_require__(25);\n\t\n\tvar _sjcl2 = _interopRequireDefault(_sjcl);\n\t\n\tvar _url = __webpack_require__(26);\n\t\n\tvar _url2 = _interopRequireDefault(_url);\n\t\n\tvar _path = __webpack_require__(27);\n\t\n\tvar _path2 = _interopRequireDefault(_path);\n\t\n\tvar _baseTransport = __webpack_require__(12);\n\t\n\tvar _baseTransport2 = _interopRequireDefault(_baseTransport);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * BlinkTradeJS SDK\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * (c) 2016-present BlinkTrade, Inc.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of BlinkTradeJS\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This program is free software: you can redistribute it and/or modify\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * it under the terms of the GNU General Public License as published by\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the Free Software Foundation, either version 3 of the License, or\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * (at your option) any later version.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This program is distributed in the hope that it will be useful,\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * but WITHOUT ANY WARRANTY; without even the implied warranty of\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * GNU General Public License for more details.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You should have received a copy of the GNU General Public License\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\t\n\tvar RestTransport = function (_BaseTransport) {\n\t  _inherits(RestTransport, _BaseTransport);\n\t\n\t  /**\n\t   * Exchanges currencies available.\n\t   */\n\t\n\t  /**\n\t   * APIKey\n\t   */\n\t  function RestTransport(params) {\n\t    _classCallCheck(this, RestTransport);\n\t\n\t    var _this = _possibleConstructorReturn(this, (RestTransport.__proto__ || Object.getPrototypeOf(RestTransport)).call(this, params, 'rest'));\n\t\n\t    _this.key = params.key;\n\t    _this.secret = params.secret;\n\t    _this.currency = params.currency || 'USD';\n\t\n\t    /* eslint-disable indent */\n\t    _this.fetchRequest = _this.isNode ? __webpack_require__(28) : _this.isBrowser ? __webpack_require__(29) : window.fetch;\n\t    /* eslint-enable indent */\n\t    return _this;\n\t  }\n\t\n\t  /**\n\t   * Fetch rest API\n\t   */\n\t\n\t\n\t  /**\n\t   * APISecret\n\t   */\n\t\n\t\n\t  _createClass(RestTransport, [{\n\t    key: 'headers',\n\t    value: function headers(method, body) {\n\t      var timeStamp = Date.now().toString();\n\t      var hexKey = _sjcl2.default.codec.utf8String.toBits(this.secret);\n\t      var hmac = new _sjcl2.default.misc.hmac(hexKey, _sjcl2.default.hash.sha256);\n\t      var Signature = _sjcl2.default.codec.hex.fromBits(hmac.encrypt(timeStamp));\n\t      return {\n\t        method: method,\n\t        headers: {\n\t          'Content-Type': 'application/json',\n\t          Nonce: timeStamp,\n\t          APIKey: this.key,\n\t          Signature: Signature\n\t        },\n\t        body: JSON.stringify(body)\n\t      };\n\t    }\n\t  }, {\n\t    key: 'fetch',\n\t    value: function fetch(msg, api) {\n\t      var headers = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\t\n\t      return this.fetchRequest(_url2.default.resolve(this.endpoint, api), headers).then(function (response) {\n\t        return response.json();\n\t      });\n\t    }\n\t  }, {\n\t    key: 'fetchPublic',\n\t    value: function fetchPublic(api) {\n\t      return this.fetch({}, _path2.default.join('api/v1', this.currency, api));\n\t    }\n\t  }, {\n\t    key: 'fetchTrade',\n\t    value: function fetchTrade(msg) {\n\t      var headers = this.headers('POST', msg);\n\t      return this.fetch(msg, 'tapi/v1/message', headers).then(function (response) {\n\t        return response.Status === 500 ? Promise.reject(response) : response.Responses;\n\t      }).then(function (response) {\n\t        return response.length === 1 ? response[0] : response;\n\t      });\n\t    }\n\t  }]);\n\t\n\t  return RestTransport;\n\t}(_baseTransport2.default);\n\t\n\texports.default = RestTransport;\n\n/***/ },\n/* 25 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"sjcl\");\n\n/***/ },\n/* 26 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"url\");\n\n/***/ },\n/* 27 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"path\");\n\n/***/ },\n/* 28 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"isomorphic-fetch\");\n\n/***/ },\n/* 29 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"fetch-jsonp\");\n\n/***/ }\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// blinktrade.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 94b6de401ca27fb30848","/**\n * BlinkTradeJS SDK\n * (c) 2016-present BlinkTrade, Inc.\n *\n * This file is part of BlinkTradeJS\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n * @flow\n */\n\nimport Brokers from './constants/brokers';\nimport BlinkTradeWS from './ws';\nimport BlinkTradeRest from './rest';\n\nexport {\n  Brokers,\n  BlinkTradeWS,\n  BlinkTradeRest,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","export default {\n  SURBITCOIN: 1,\n  VBTC: 3,\n  FOXBIT: 4,\n  TESTNET: 5,\n  URDUBIT: 8,\n  CHILEBIT: 9,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants/brokers.js","/**\n * BlinkTradeJS SDK\n * (c) 2016-present BlinkTrade, Inc.\n *\n * This file is part of BlinkTradeJS\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n * @flow\n */\n\nimport _ from 'lodash';\nimport nodeify from 'nodeify';\nimport { EventEmitter2 as EventEmitter } from 'eventemitter2';\nimport {\n  registerListener,\n  generateRequestId,\n  registerEventEmitter,\n} from './listener';\n\nimport {\n  EVENTS,\n  BALANCE,\n  ORDER_BOOK,\n  DEPOSIT_REFRESH,\n  WITHDRAW_REFRESH,\n  EXECUTION_REPORT,\n} from './constants/actionTypes';\n\nimport MsgTypes from './constants/requests';\nimport WebSocketTransport from './wsTransport';\n\nclass BlinkTradeWS extends WebSocketTransport {\n  /**\n   * Session to store login information\n   */\n  session: Object;\n\n  constructor(params?: BlinkTradeBase) {\n    super(params);\n\n    this.session = {};\n  }\n\n  heartbeat(callback?: Function): Promise<Object> {\n    const d = new Date();\n    const msg: Object = {\n      MsgType: MsgTypes.HEARTBEAT,\n      TestReqID: d.getTime(),\n      SendTime: d.getTime(),\n    };\n\n    return nodeify.extend(new Promise((resolve, reject) => {\n      return super.sendMessageAsPromise(msg).then(data => {\n        return resolve({\n          ...data,\n          Latency: new Date(Date.now()) - data.SendTime,\n        });\n      }).catch(reject);\n    })).nodeify(callback);\n  }\n\n  login({ username, password, secondFactor, brokerId }: {\n    username: string,\n    password: string,\n    secondFactor?: string,\n    brokerId?: number,\n  }, callback?: Function): Promise<Object> {\n    let userAgent;\n    if (!this.isNode) {\n      userAgent = {\n        UserAgent: window.navigator.userAgent,\n        UserAgentLanguage: window.navigator.language,\n        UserAgentPlatform: window.navigator.platform,\n        UserAgentTimezoneOffset: new Date().getTimezoneOffset(),\n      };\n    } else {\n      const os = require('os');\n      userAgent = {\n        UserAgent: `${os.type()} ${os.release()}`,\n        UserAgentLanguage: 'en_US',\n        UserAgentPlatform: `${os.platform()} (${os.arch()})`,\n        UserAgentTimezoneOffset: new Date().getTimezoneOffset(),\n      };\n    }\n\n    const msg: Object = {\n      MsgType: MsgTypes.LOGIN,\n      UserReqID: generateRequestId(),\n      BrokerID: brokerId || this.brokerId,\n      Username: username,\n      Password: password,\n      UserReqTyp: '1',\n      ...userAgent,\n    };\n\n    if (secondFactor) {\n      msg.SecondFactor = secondFactor;\n    }\n\n    return nodeify.extend(new Promise((resolve, reject) => {\n      return super.sendMessageAsPromise(msg).then(data => {\n        if (data.UserStatus === 1) {\n          this.session = data;\n          return resolve(data);\n        }\n\n        return reject(data);\n      }).catch(reject);\n    })).nodeify(callback);\n  }\n\n  logout(callback?: Function): Promise<Object> {\n    const msg = {\n      MsgType: MsgTypes.LOGOUT,\n      BrokerID: this.brokerId,\n      UserReqID: generateRequestId(),\n      Username: this.session.Username,\n      UserReqTyp: '2',\n    };\n\n    return nodeify.extend(super.sendMessageAsPromise(msg)).nodeify(callback);\n  }\n\n  profile(callback?: Function): Promise<Object> {\n    const { VerificationData, ...profile } = this.session.Profile;\n    return nodeify.extend(Promise.resolve(profile)).nodeify(callback);\n  }\n\n  balance(callback?: Function): PromiseEmitter<Object> {\n    return super.emitterPromise(new Promise((resolve, reject) => {\n      return super.balance(callback).then((data) => {\n        registerListener('U3', (balance) => {\n          callback && callback(null, balance);\n          return this.eventEmitter.emit(BALANCE, balance);\n        });\n        return resolve(data);\n      }).catch(reject);\n    }));\n  }\n\n  subscribeTicker(symbols: Array<string>, callback?: Function): PromiseEmitter<Object> {\n    const msg = {\n      MsgType: MsgTypes.SECURITY_STATUS,\n      SecurityStatusReqID: generateRequestId(),\n      SubscriptionRequestType: '1',\n      Instruments: symbols,\n    };\n\n    const formatTicker = (data) => {\n      return {\n        ...data,\n        SellVolume: data.SellVolume / 1e8,\n        LowPx: data.LowPx / 1e8,\n        LastPx: data.LastPx / 1e8,\n        BestAsk: data.BestAsk / 1e8,\n        HighPx: data.HighPx / 1e8,\n        BuyVolume: data.BuyVolume / 1e8,\n        BestBid: data.BestBid / 1e8,\n      };\n    };\n\n    return super.emitterPromise(new Promise((resolve, reject) => {\n      return super.sendMessageAsPromise(msg).then(data => {\n        resolve(formatTicker(data));\n        registerEventEmitter({ SecurityStatusReqID: data.SecurityStatusReqID }, (ticker) => {\n          callback && callback(null, formatTicker(ticker));\n          return this.eventEmitter.emit(`BLINK:${ticker.Symbol}`, formatTicker(ticker));\n        });\n      }).catch(reject);\n    }), callback);\n  }\n\n  unSubscribeTicker(SecurityStatusReqID: number): number {\n    const msg = {\n      MsgType: MsgTypes.SECURITY_STATUS,\n      SecurityStatusReqID,\n      SubscriptionRequestType: '2',\n    };\n\n    super.sendMessage(msg);\n    return SecurityStatusReqID;\n  }\n\n  subscribeOrderbook(symbols: Array<string>, callback?: Function): PromiseEmitter<Object> {\n    const msg = {\n      MsgType: MsgTypes.MARKET_DATA_FULL_REFRESH,\n      MDReqID: generateRequestId(),\n      SubscriptionRequestType: '1',\n      MarketDepth: 0,\n      MDUpdateType: '1', // Incremental refresh\n      MDEntryTypes: ['0', '1', '2'],\n      Instruments: symbols,\n    };\n\n    const subscribeEvent = (data) => {\n      if (data.MDBkTyp === '3') {\n        data.MDIncGrp.map(order => {\n          const dataOrder = {\n            index: order.MDEntryPositionNo,\n            price: order.MDEntryPx / 1e8,\n            size: order.MDEntrySize / 1e8,\n            side: order.MDEntryType === '0' ? 'buy' : 'sell',\n            userId: order.UserID,\n            orderId: order.OrderID,\n            symbol: order.Symbol,\n            time: new Date(`${order.MDEntryDate} ${order.MDEntryTime}`).toString(),\n          };\n\n          switch (order.MDEntryType) {\n            case '0':\n            case '1':\n              const orderbookEvent = `${ORDER_BOOK}:${EVENTS.ORDERBOOK[order.MDUpdateAction]}`;\n              const bidOfferData = { ...dataOrder, type: orderbookEvent };\n\n              callback && callback(null, bidOfferData);\n              return this.eventEmitter.emit(orderbookEvent, bidOfferData);\n            case '2':\n              const tradeEvent = `${ORDER_BOOK}:${EVENTS.TRADES[order.MDUpdateAction]}`;\n              const tradeData = { ...dataOrder, type: tradeEvent };\n\n              callback && callback(null, tradeData);\n              return this.eventEmitter.emit(tradeEvent, tradeData);\n            case '4':\n              break;\n            default:\n              return null;\n          }\n          return null;\n        });\n      }\n    };\n\n    return super.emitterPromise(new Promise((resolve, reject) => {\n      return super.sendMessageAsPromise(msg).then(data => {\n        if (data.MsgType === 'W') {\n          // Split orders in bids and asks\n          /* eslint-disable no-param-reassign */\n          const { bids, asks } = data.MDFullGrp\n            .filter(order => order.MDEntryType === '0' || order.MDEntryType === '1')\n            .reduce((prev, order) => {\n              const side = order.MDEntryType === '0' ? 'bids' : 'asks';\n              (prev[side] || (prev[side] = [])).push([\n                order.MDEntryPx / 1e8,\n                order.MDEntrySize / 1e8,\n                order.UserID,\n              ]);\n              return prev;\n            }, []);\n          /* eslint-enable no-param-reassign */\n\n          registerEventEmitter({ MDReqID: data.MDReqID }, subscribeEvent);\n\n          return resolve({\n            ...data,\n            MDFullGrp: {\n              [data.Symbol]: {\n                bids,\n                asks,\n              },\n            },\n          });\n        }\n      }).catch(err => reject(err));\n    }), callback);\n  }\n\n  unSubscribeOrderbook(MDReqID: number): number {\n    const msg = {\n      MsgType: MsgTypes.MARKET_DATA_UNSUBSCRIBE,\n      MDReqID,\n      MarketDepth: 0,\n      SubscriptionRequestType: '2',\n    };\n\n    super.sendMessage(msg);\n    return MDReqID;\n  }\n\n  executionReport(callback?: Function): EventEmitter {\n    registerListener('8', (data) => {\n      callback && callback(data);\n      const event = EVENTS.EXECUTION_REPORT[data.ExecType];\n      return this.eventEmitter.emit(`${EXECUTION_REPORT}:${event}`, data);\n    });\n\n    return this.eventEmitter;\n  }\n\n  tradeHistory({ since, filter, page: Page = 0, pageSize: PageSize = 80 }: {\n    since?: string,\n    filter?: Array<string>,\n    page?: number,\n    pageSize?: number,\n  } = {}, callback?: Function): Promise<Object> {\n    const msg: Object = {\n      MsgType: MsgTypes.TRADE_HISTORY,\n      TradeHistoryReqID: generateRequestId(),\n      Page,\n      PageSize,\n    };\n\n    if (filter && filter.length > 0) {\n      msg.Filter = filter;\n    }\n\n    if (since && typeof since === 'number') {\n      msg.Since = since;\n    }\n\n    return nodeify.extend(new Promise((resolve, reject) => {\n      return super.sendMessageAsPromise(msg).then(data => {\n        const { Columns, ...trades } = data;\n        const TradeHistory = _.groupBy(_.map(data.TradeHistoryGrp, trade => _.zipObject(Columns, trade)), trade => trade.Market);\n        return resolve({\n          ...trades,\n          TradeHistoryGrp: TradeHistory,\n        });\n      }).catch(reject);\n    })).nodeify(callback);\n  }\n\n  requestDeposit({ currency = 'BTC', value, depositMethodId }: {\n    value?: number,\n    currency?: string,\n    depositMethodId?: number,\n  } = {}, callback?: Function): PromiseEmitter<Object> {\n    const subscribeEvent = (deposit) => {\n      callback && callback(null, deposit);\n      return this.eventEmitter.emit(DEPOSIT_REFRESH, deposit);\n    };\n\n    return super.emitterPromise(new Promise((resolve, reject) => {\n      return super.requestDeposit({ currency, value, depositMethodId })\n        .then(deposit => {\n          registerEventEmitter({ ClOrdID: deposit.ClOrdID }, subscribeEvent);\n          return resolve(deposit);\n        }).catch(reject);\n    }), callback);\n  }\n\n  onDepositRefresh(callback?: Function): Promise<Object> {\n    return new Promise((resolve) => {\n      registerListener('U23', (deposit) => {\n        callback && callback(deposit);\n        return resolve(deposit);\n      });\n    });\n  }\n\n  requestWithdraw({ amount, data, currency = 'BTC', method = 'bitcoin' }: {\n    data: Object,\n    amount: number,\n    method?: string,\n    currency?: string,\n  }, callback?: Function): PromiseEmitter<Object> {\n    const subscribeEvent = (withdraw) => {\n      callback && callback(null, withdraw);\n      return this.eventEmitter.emit(WITHDRAW_REFRESH, withdraw);\n    };\n\n    return super.emitterPromise(new Promise((resolve, reject) => {\n      return super.requestWithdraw({ amount, data, currency, method })\n        .then(withdraw => {\n          registerEventEmitter({ ClOrdID: withdraw.ClOrdID }, subscribeEvent);\n          return resolve(withdraw);\n        }).catch(reject);\n    }), callback);\n  }\n\n  onWithdrawRefresh(callback?: Function): Promise<Object> {\n    return new Promise((resolve) => {\n      registerListener('U9', (withdraw) => {\n        callback && callback(withdraw);\n        return resolve(withdraw);\n      });\n    });\n  }\n}\n\nexport default BlinkTradeWS;\n\n\n\n// WEBPACK FOOTER //\n// ./src/ws.js","module.exports = require(\"lodash\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash\"\n// module id = 3\n// module chunks = 0","module.exports = require(\"nodeify\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nodeify\"\n// module id = 4\n// module chunks = 0","module.exports = require(\"eventemitter2\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"eventemitter2\"\n// module id = 5\n// module chunks = 0","/**\n * BlinkTradeJS SDK\n * (c) 2016-present BlinkTrade, Inc.\n *\n * This file is part of BlinkTradeJS\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n * @flow\n */\n\nimport lodash from 'lodash';\nimport * as RequestTypes from './constants/requestTypes';\n\nlet requests: Object = {};\nconst listeners: Object = {};\n\nexport function getListeners() {\n  return requests;\n}\n\nexport function generateRequestId(): number {\n  return parseInt(String(1e7 * Math.random()), 10);\n}\n\nexport function getListener(msgType: string): Function {\n  return listeners[msgType];\n}\n\nexport function getRequest(message: Object): ?Request {\n  let result;\n  lodash.mapKeys(RequestTypes, (key) => {\n    if (lodash.has(message, key) && message[key]) {\n      result = lodash.find(requests[key], { ReqId: String(message[key]) }) || result;\n    }\n  });\n\n  return result;\n}\n\nexport function registerRequest(message: Object, promise: Request): Object {\n  lodash.mapKeys(RequestTypes, (key) => {\n    if (lodash.has(message, key)) {\n      requests[key] = requests[key] || [];\n      requests[key].push({ ReqId: String(message[key]), ...promise });\n    }\n  });\n\n  return requests;\n}\n\nexport function registerEventEmitter(message: Object, callback: Function): Object {\n  lodash.mapKeys(RequestTypes, (key) => {\n    if (lodash.has(message, key)) {\n      if (requests[key] !== []) {\n        const index = lodash.findIndex(requests[key], { ReqId: String(message[key]) });\n        requests[key][index] = {\n          ...requests[key][index],\n          resolve: null,\n          reject: null,\n          callback,\n        };\n      }\n    }\n  });\n\n  return requests;\n}\n\nexport function registerListener(msgType: string, callback: Function): void {\n  listeners[msgType] = listeners[msgType] || [];\n  listeners[msgType] = callback;\n}\n\nexport function deleteRequest(key: string): Object {\n  requests = lodash.omit(requests, [key]);\n  return requests;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/listener.js","export const SOCKET_ID = 'SocketID';\nexport const REQUEST_ID = 'ReqID';\nexport const TEST_REQUEST_ID = 'TestReqID';\nexport const USER_REQUEST_ID = 'UserReqID';\nexport const SECURITY_REQUEST_ID = 'SecurityReqID';\nexport const RESET_PASSWORD_REQUEST_ID = 'ResetPasswordReqID';\nexport const DEPOSIT_REQUEST_ID = 'DepositReqID';\nexport const WITHDRAW_REQUEST_ID = 'WithdrawReqID';\nexport const BALANCE_REQUEST_ID = 'BalanceReqID';\nexport const ORDERS_REQUEST_ID = 'OrdersReqID';\nexport const ENABLE_TWO_FACTOR_REQUEST_ID = 'EnableTwoFactorReqID';\nexport const DEPOSIT_METHOD_REQUEST_ID = 'DepositMethodReqID';\nexport const WITHDRAW_LIST_REQUEST_ID = 'WithdrawListReqID';\nexport const BROKER_LIST_REQUEST_ID = 'BrokerListReqID';\nexport const DEPOSIT_LIST_REQUEST_ID = 'DepositListReqID';\nexport const TRADE_HISTORY_REQUEST_ID = 'TradeHistoryReqID';\nexport const LEDGER_LIST_REQUEST_ID = 'LedgerListReqID';\nexport const TRADERS_RANK_REQUEST_ID = 'TradersRankReqID';\nexport const UPDATE_REQUEST_ID = 'UpdateReqID';\nexport const POSITION_REQUEST_ID = 'PositionReqID';\nexport const SECURITY_STATUS_REQUEST_ID = 'SecurityStatusReqID';\nexport const API_KEY_LIST_REQUEST_ID = 'APIKeyListReqID';\nexport const API_KEY_CREATE_REQUEST_ID = 'APIKeyCreateReqID';\nexport const API_KEY_REVOKE_REQUEST_ID = 'APIKeyRevokeReqID';\nexport const PROCESS_DEPOSIT_REQUEST_ID = 'ProcessDepositReqID';\nexport const CUSTOMER_LIST_REQUEST_ID = 'CustomerListReqID';\nexport const CUSTOMER_REQUEST_ID = 'CustomerReqID';\nexport const PROCESS_WITHDRAW_REQUEST_ID = 'ProcessWithdrawReqID';\nexport const VERIFY_CUSTOMER_REQUEST_ID = 'VerifyCustomerReqID';\nexport const MD_REQUEST_ID = 'MDReqID';\nexport const CLIENT_ORDER_ID = 'ClOrdID';\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants/requestTypes.js","export const BALANCE = 'BALANCE';\n\nexport const ORDER_BOOK = 'OB';\nexport const ORDER_BOOK_TRADE_NEW = 'TRADE_NEW';\nexport const ORDER_BOOK_NEW_ORDER = 'NEW_ORDER';\nexport const ORDER_BOOK_UPDATE_ORDER = 'UPDATE_ORDER';\nexport const ORDER_BOOK_DELETE_ORDER = 'DELETE_ORDER';\nexport const ORDER_BOOK_DELETE_ORDERS_THRU = 'DELETE_ORDERS_THRU';\n\nexport const EXECUTION_REPORT = 'EXECUTION_REPORT';\nexport const EXECUTION_REPORT_NEW = 'NEW';\nexport const EXECUTION_REPORT_PARTIAL = 'PARTIAL';\nexport const EXECUTION_REPORT_EXECUTION = 'EXECUTION';\nexport const EXECUTION_REPORT_CANCELED = 'CANCELED';\nexport const EXECUTION_REPORT_REJECTED = 'REJECTED';\n\nexport const DEPOSIT_REFRESH = 'DEPOSIT_REFRESH';\nexport const WITHDRAW_REFRESH = 'WITHDRAW_REFRESH';\n\n/* eslint-disable quote-props */\nexport const EVENTS = {\n  ORDERBOOK: {\n    '0': ORDER_BOOK_NEW_ORDER,\n    '1': ORDER_BOOK_UPDATE_ORDER,\n    '2': ORDER_BOOK_DELETE_ORDER,\n    '3': ORDER_BOOK_DELETE_ORDERS_THRU,\n  },\n  TRADES: {\n    '0': ORDER_BOOK_TRADE_NEW,\n  },\n  EXECUTION_REPORT: {\n    '0': EXECUTION_REPORT_NEW,\n    '1': EXECUTION_REPORT_PARTIAL,\n    '2': EXECUTION_REPORT_EXECUTION,\n    '4': EXECUTION_REPORT_CANCELED,\n    '8': EXECUTION_REPORT_REJECTED,\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants/actionTypes.js","export default {\n  HEARTBEAT: '1',\n  LOGIN: 'BE',\n  LOGOUT: 'BE',\n  CHANGE_PASSWORD: 'BE',\n\n  MARKET_DATA_FULL_REFRESH: 'V',\n  MARKET_DATA_UNSUBSCRIBE: 'V',\n\n  ORDER_SEND: 'D',\n  ORDER_CANCEL: 'F',\n\n  SECURITY_LIST: 'x',\n  SECURITY_STATUS: 'e',\n  BALANCE: 'U2',\n  ORDER_LIST: 'U4',\n  BROKER_LIST: 'U28',\n  TRADE_HISTORY: 'U32',\n  PROFILE_UPDATE: 'U38',\n\n  REQUEST_DEPOSIT: 'U18',\n  REQUEST_DEPOSIT_LIST: 'U30',\n  REQUEST_DEPOSIT_METHODS: 'U20',\n  REQUEST_WITHDRAW: 'U6',\n  REQUEST_WITHDRAW_LIST: 'U26',\n\n  REQUEST_LEDGER: 'U34',\n\n  CONFIRM_WITHDRAW: 'U24',\n  CANCEL_WITHDRAW: 'U70',\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants/requests.js","/**\n * BlinkTradeJS SDK\n * (c) 2016-present BlinkTrade, Inc.\n *\n * This file is part of BlinkTradeJS\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n * @flow\n */\n\nimport nodeify from 'nodeify';\nimport Fingerprint2 from 'fingerprintjs2';\nimport { EventEmitter2 as EventEmitter } from 'eventemitter2';\n\nimport BaseTransport from './baseTransport';\n\nimport {\n  getRequest,\n  getListener,\n  registerRequest,\n} from './listener';\n\nclass WebSocketTransport extends BaseTransport {\n  /*\n   * WebSocket Instance\n   */\n  socket: WebSocket;\n\n  /*\n   * FingerPrint\n   */\n  fingerPrint: string;\n\n  /*\n   * Stun object\n   */\n  stun: Stun;\n\n  /*\n   * Transport Promise\n   */\n  request: Request;\n\n  /*\n   * Event emitter to dispatch websocket updates\n   */\n  eventEmitter: EventEmitter;\n\n  constructor(params?: BlinkTradeWS = {}) {\n    super(params, 'ws');\n\n    this.stun = { local: null, public: [] };\n\n    this.getStun();\n    this.getFingerPrint(params.fingerPrint);\n\n    this.eventEmitter = new EventEmitter({ wildcard: true, delimiter: ':' });\n  }\n\n  connect(callback?: Function): Promise<Object> {\n    return nodeify.extend(new Promise((resolve, reject) => {\n      this.request = { resolve, reject };\n\n      const WebSocket = this.isNode ? require('ws') : window.WebSocket;\n\n      this.socket = new WebSocket(this.endpoint);\n      this.socket.onopen = this.onOpen.bind(this);\n      this.socket.onclose = this.onClose.bind(this);\n      this.socket.onerror = this.onError.bind(this);\n      this.socket.onmessage = this.onMessage.bind(this);\n    })).nodeify(callback);\n  }\n\n  disconnect(): void {\n    this.socket.close();\n  }\n\n  onOpen(): void {\n    this.request.resolve({ connected: true });\n  }\n\n  onClose(): void {\n  }\n\n  onError(error: any): void {\n    this.request.reject(error);\n  }\n\n  /* eslint-disable no-unused-vars */\n  sendMessage(msg: Object, promise: any): void {\n    if (this.socket.readyState === 1) {\n      const data = msg;\n\n      data.STUNTIP = this.stun;\n      data.FingerPrint = this.fingerPrint;\n\n      this.socket.send(JSON.stringify(data));\n    }\n  }\n  /* eslint-enable no-unused-vars */\n\n  sendMessageAsPromise(msg: Object): Promise<Object> {\n    return new Promise((resolve, reject) => {\n      const promise = { resolve, reject };\n      registerRequest(msg, promise);\n      // We are passing the promise as a parameter to spy it in our tests\n      this.sendMessage(msg, promise);\n    });\n  }\n\n  onMessage(msg: Object): void {\n    const data = JSON.parse(msg.data);\n    if (data.MsgType === 'ERROR') {\n      throw new Error(`Error: ${data.Detail} ${data.Description}`);\n    }\n\n    const request = getRequest(data);\n    const listener = getListener(data.MsgType);\n    this.dispatchPromise(request, data);\n    this.dispatchListeners(listener, data);\n  }\n\n  /* eslint-disable indent */\n  dispatchPromise(request: ?Request, data: Object): any {\n    if (request) {\n      return request.resolve  ? request.resolve(data)\n           : request.callback ? request.callback(data)\n           : null;\n    }\n  }\n  /* eslint-enable indent */\n\n  dispatchListeners(listener: Function, data: Object): void {\n    return listener && listener(data);\n  }\n\n  getFingerPrint(customFingerprint?: string): void {\n    if (this.isNode) {\n      return require('./util/macaddress').getMac(macAddress => {\n        this.fingerPrint = macAddress;\n      });\n    } else if (this.isBrowser) {\n      return new Fingerprint2().get(fingerPrint => {\n        this.fingerPrint = Math.abs(require('./util/hash32').encodeByteArray(fingerPrint)).toString();\n      });\n    } else if (customFingerprint) {\n      this.fingerPrint = customFingerprint;\n    } else {\n      throw new Error('FingerPrint not provided');\n    }\n  }\n\n  getStun(): void {\n    if (this.isNode) {\n      require('./util/stun').getStun(data => {\n        this.stun = data;\n      });\n    }\n  }\n\n  /* eslint-disable no-param-reassign */\n  emitterPromise<T>(promise: Object, callback?: Function): PromiseEmitter<T> {\n    promise.on = (event: string, listener: Function) => {\n      this.eventEmitter.on(event, listener);\n      return promise;\n    };\n    promise.onAny = (listener: Function) => {\n      this.eventEmitter.onAny(listener);\n      return promise;\n    };\n    promise.offAny = (listener: Function) => {\n      this.eventEmitter.offAny(listener);\n      return promise;\n    };\n    promise.once = (event: string, listener: Function) => {\n      this.eventEmitter.once(event, listener);\n      return promise;\n    };\n    promise.many = (event: string, times: number, listener: Function) => {\n      this.eventEmitter.many(event, times, listener);\n      return promise;\n    };\n    promise.removeListener = (event: string, listener: Function) => {\n      this.eventEmitter.removeListener(event, listener);\n      return promise;\n    };\n    promise.removeAllListeners = (events: Array<string>) => {\n      this.eventEmitter.removeAllListeners(events);\n      return promise;\n    };\n\n    return nodeify.extend(promise).nodeify(callback);\n  }\n  /* eslint-enable no-param-reassign */\n}\n\nexport default WebSocketTransport;\n\n\n\n// WEBPACK FOOTER //\n// ./src/wsTransport.js","module.exports = require(\"fingerprintjs2\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fingerprintjs2\"\n// module id = 11\n// module chunks = 0","/**\n * BlinkTradeJS SDK\n * (c) 2016-present BlinkTrade, Inc.\n *\n * This file is part of BlinkTradeJS\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n * @flow\n */\n\nimport _ from 'lodash';\nimport nodeify from 'nodeify';\nimport Base from './base';\nimport MsgTypes from './constants/requests';\nimport * as RequestTypes from './constants/requestTypes';\nimport {\n  deleteRequest,\n  generateRequestId,\n} from './listener';\n\ntype StatusListType = '1' | '2' | '4' | '8';\n\nclass BaseTransport extends Base {\n  env: BlinkTradeEnv;\n\n  send: (msg: Object) => Promise<Object>;\n\n  +fetchTrade: (msg: Object) => Promise<Object>;\n\n  +sendMessageAsPromise: (msg: Object) => Promise<Object>;\n\n  constructor(params?: BlinkTradeBase, env: BlinkTradeEnv) {\n    super(params, env);\n    this.send = env === 'ws' ? this.sendMessageAsPromise : this.fetchTrade;\n  }\n\n  balance(callback?: Function): Promise<Object> {\n    const msg = {\n      MsgType: MsgTypes.BALANCE,\n      BalanceReqID: generateRequestId(),\n    };\n\n    return nodeify.extend(new Promise((resolve, reject) => {\n      return this.send(msg).then(data => {\n        const Available = {};\n        const balances = data[this.brokerId];\n        if (balances) {\n          Object.keys(balances).map(currency => {\n            if (!currency.includes('locked')) {\n              Available[currency] = balances[currency] - balances[`${currency}_locked`];\n            }\n            return Available;\n          });\n        }\n\n        return resolve({ ...data, Available });\n      }).catch(reject);\n    })).nodeify(callback);\n  }\n\n  myOrders({ page: Page = 0, pageSize: PageSize = 40 }: {\n    page?: number,\n    pageSize?: number,\n  } = {}, callback?: Function): Promise<Object> {\n    const msg = {\n      MsgType: MsgTypes.ORDER_LIST,\n      OrdersReqID: generateRequestId(),\n      Page,\n      PageSize,\n    };\n\n    return nodeify.extend(new Promise((resolve, reject) => {\n      return this.send(msg).then(data => {\n        const { Columns, ...orders } = data;\n        const OrdListGrp = _.map(data.OrdListGrp, order => _.zipObject(Columns, order));\n        return resolve({\n          ...orders,\n          OrdListGrp,\n        });\n      }).catch(reject);\n    })).nodeify(callback);\n  }\n\n  sendOrder({ side, amount, price, symbol }: {\n    side: '1' | '2',\n    price: number,\n    amount: number,\n    symbol: string,\n  }, callback?: Function): Promise<Object> {\n    const msg = {\n      MsgType: MsgTypes.ORDER_SEND,\n      ClOrdID: generateRequestId(),\n      Symbol: symbol,\n      Side: side,\n      OrdType: '2',\n      Price: price,\n      OrderQty: amount,\n      BrokerID: this.brokerId,\n    };\n\n    return nodeify.extend(new Promise((resolve, reject) => {\n      return this.send(msg).then(data => {\n        deleteRequest(RequestTypes.CLIENT_ORDER_ID);\n        resolve(data);\n      }).catch(reject);\n    })).nodeify(callback);\n  }\n\n  cancelOrder(param?: number | {\n    orderId?: number,\n    clientId?: number,\n  } = {}, callback?: Function): Promise<Object> {\n    const orderId = param.orderId ? param.orderId : param;\n    const msg: Object = {\n      MsgType: MsgTypes.ORDER_CANCEL,\n    };\n\n    if (param.clientId) {\n      msg.ClOrdID = param.clientId;\n    }\n\n    if (param.orderId) {\n      msg.OrderID = orderId;\n    }\n\n    return nodeify.extend(this.send(msg)).nodeify(callback);\n  }\n\n  /**\n   * statusList: 1-Pending, 2-In Progress, 4-Completed, 8-Cancelled\n   */\n  requestWithdrawList({\n    page: Page = 0,\n    pageSize: PageSize = 20,\n    statusList: StatusList = ['1', '2', '4', '8'],\n  }: {\n    page?: number,\n    pageSize?: number,\n    statusList?: Array<StatusListType>,\n  } = {}, callback?: Function): Promise<Object> {\n    const msg = {\n      MsgType: MsgTypes.REQUEST_WITHDRAW_LIST,\n      WithdrawListReqID: generateRequestId(),\n      Page,\n      PageSize,\n      StatusList,\n    };\n\n    return nodeify.extend(new Promise((resolve, reject) => {\n      return this.send(msg).then(data => {\n        const { Columns, ...withdrawData } = data;\n        const WithdrawListGrp = _.map(data.WithdrawListGrp, withdraw => _.zipObject(Columns, withdraw));\n        return resolve({\n          ...withdrawData,\n          WithdrawListGrp,\n        });\n      }).catch(reject);\n    })).nodeify(callback);\n  }\n\n  requestWithdraw({ amount, data, currency = 'BTC', method = 'bitcoin' }: {\n    data: Object,\n    amount: number,\n    method?: string,\n    currency?: string,\n  }, callback?: Function): Promise<Object> {\n    const reqId = generateRequestId();\n    const msg = {\n      MsgType: MsgTypes.REQUEST_WITHDRAW,\n      WithdrawReqID: reqId,\n      ClOrdID: reqId,\n      Method: method,\n      Amount: amount,\n      Currency: currency,\n      Data: data,\n    };\n\n    return nodeify.extend(this.send(msg)).nodeify(callback);\n  }\n\n  confirmWithdraw({ withdrawId: WithdrawID, confirmationToken, secondFactor }: {\n    withdrawId: string,\n    confirmationToken?: string,\n    secondFactor?: string,\n  }, callback: Function): Promise<Object> {\n    const msg: Object = {\n      MsgType: MsgTypes.CONFIRM_WITHDRAW,\n      WithdrawReqID: generateRequestId(),\n      WithdrawID,\n    };\n\n    if (confirmationToken) {\n      msg.ConfirmationToken = confirmationToken;\n    }\n\n    if (secondFactor) {\n      msg.SecondFactor = secondFactor;\n    }\n\n    return nodeify.extend(new Promise((resolve, reject) => {\n      return this.send(msg).then(data => {\n        return resolve({\n          ...data,\n        });\n      }).catch(reject);\n    })).nodeify(callback);\n  }\n\n  cancelWithdraw(withdrawId: string, callback: Function): Promise<Object> {\n    const reqId = generateRequestId();\n    const msg = {\n      MsgType: MsgTypes.CANCEL_WITHDRAW,\n      WithdrawCancelReqID: reqId,\n      ClOrdID: reqId,\n      WithdrawID: withdrawId,\n    };\n\n    return nodeify.extend(new Promise((resolve, reject) => {\n      return this.send(msg).then(data => {\n        return resolve({\n          ...data,\n        });\n      }).catch(reject);\n    })).nodeify(callback);\n  }\n\n  requestDepositList({\n    page: Page = 0,\n    pageSize: PageSize = 20,\n    status: StatusList = ['1', '2', '4', '8'],\n  }: {\n    page: number,\n    pageSize: number,\n    status: Array<StatusListType>,\n  } = {}, callback?: Function): Promise<Object> {\n    const msg = {\n      MsgType: MsgTypes.REQUEST_DEPOSIT_LIST,\n      DepositListReqID: generateRequestId(),\n      Page,\n      PageSize,\n      StatusList,\n    };\n\n    return nodeify.extend(new Promise((resolve, reject) => {\n      return this.send(msg).then(data => {\n        const { Columns, ...depositData } = data;\n        const DepositListGrp = _.map(data.DepositListGrp, deposit => _.zipObject(Columns, deposit));\n        return resolve({\n          ...depositData,\n          DepositListGrp,\n        });\n      }).catch(reject);\n    })).nodeify(callback);\n  }\n\n  requestDeposit({ currency = 'BTC', value, depositMethodId }: {\n    value?: number,\n    currency?: string,\n    depositMethodId?: number,\n  } = {}, callback?: Function): Promise<Object> {\n    const reqId = generateRequestId();\n    const msg: Object = {\n      MsgType: MsgTypes.REQUEST_DEPOSIT,\n      DepositReqID: reqId,\n      ClOrdID: reqId,\n      Currency: currency,\n      BrokerID: this.brokerId,\n    };\n\n    if (currency !== 'BTC') {\n      msg.DepositMethodID = depositMethodId;\n      msg.Value = value;\n    }\n\n    return nodeify.extend(this.send(msg)).nodeify(callback);\n  }\n\n  requestDepositMethods(callback?: Function): Promise<Object> {\n    const msg = {\n      MsgType: MsgTypes.REQUEST_DEPOSIT_METHODS,\n      DepositMethodReqID: generateRequestId(),\n    };\n\n    return nodeify.extend(this.send(msg)).nodeify(callback);\n  }\n\n  requestLedger({\n    page: Page = 0,\n    pageSize: PageSize = 20,\n    currency,\n    filter,\n  }: {\n    page: number,\n    pageSize: number,\n    currency: string,\n    filter: Array<string>,\n  } = {}, callback?: Function) {\n    const msg: Object = {\n      MsgType: MsgTypes.REQUEST_LEDGER,\n      LedgerListReqID: generateRequestId(),\n      Page,\n      PageSize,\n    };\n\n    if (currency) {\n      msg.Currency = currency;\n    }\n    if (filter) {\n      msg.Filter = filter;\n    }\n\n    return nodeify.extend(new Promise((resolve, reject) => {\n      return this.send(msg).then(data => {\n        const { Columns, ...ledgerData } = data;\n        const LedgerListGrp = _.map(data.LedgerListGrp, ledger => _.zipObject(Columns, ledger));\n        resolve({\n          ...ledgerData,\n          LedgerListGrp,\n        });\n      }).catch(reject);\n    })).nodeify(callback);\n  }\n}\n\nexport default BaseTransport;\n\n\n\n// WEBPACK FOOTER //\n// ./src/baseTransport.js","/**\n * BlinkTradeJS SDK\n * (c) 2016-present BlinkTrade, Inc.\n *\n * This file is part of BlinkTradeJS\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n * @flow\n */\n\nimport common from './constants/common';\n\nclass Base {\n  /*\n   * url endpoint.\n   */\n  endpoint: string;\n\n  /*\n   * Broker id\n   */\n  brokerId: number;\n\n  /*\n   * Is node.js environment.\n   */\n  isNode: boolean;\n\n  /*\n   * Is browser environment.\n   */\n  isBrowser: boolean;\n\n  constructor(params: BlinkTradeBase = {}, env: BlinkTradeEnv) {\n    /* eslint-disable indent */\n    const endpoint =\n        params.url  ? params.url\n      : params.prod ? common.prod[env]\n      :               common.testnet[env];\n    /* eslint-enable indent */\n\n    this.brokerId = params.brokerId || 5;\n\n    this.endpoint = endpoint;\n\n    this.isNode    = typeof window === 'undefined';\n    this.isBrowser = typeof document !== 'undefined';\n  }\n}\n\nexport default Base;\n\n\n\n// WEBPACK FOOTER //\n// ./src/base.js","export default {\n  prod: {\n    ws: 'wss://ws.blinktrade.com/trade/',\n    rest: 'https://api.blinktrade.com/',\n  },\n  testnet: {\n    ws: 'wss://api_testnet.blinktrade.com/trade/',\n    rest: 'https://api_testnet.blinktrade.com/',\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants/common.js","module.exports = require(\"ws\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ws\"\n// module id = 15\n// module chunks = 0","/**\n * BlinkTradeJS SDK\n * (c) 2016-present BlinkTrade, Inc.\n *\n * This file is part of BlinkTradeJS\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n * @flow\n */\n\n/* eslint-disable operator-assignment */\n/* eslint-disable no-plusplus */\n/* eslint-disable import/prefer-default-export */\n\nimport macaddress from 'macaddress';\n\nexport function getMac(callback: Function): void {\n  macaddress.all((err, all) => {\n    const hashCode = (str) => {\n      let hash = 0;\n      if (str.length === 0) return hash;\n      for (let i = 0; i < str.length; i++) {\n        hash = ((hash << 5) - hash) + str.charCodeAt(i);\n        hash = hash & hash; // Convert to 32bit integer\n      }\n      return hash;\n    };\n\n    let macAddresses = '';\n    Object.keys(all).forEach(iface => {\n      macAddresses += all[iface].mac;\n    });\n\n    let fingerPrint = hashCode(macAddresses);\n    if (fingerPrint < 0) {\n      fingerPrint *= -1;\n    }\n\n    callback(fingerPrint);\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/macaddress.js","module.exports = require(\"macaddress\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"macaddress\"\n// module id = 17\n// module chunks = 0","/* eslint-disable no-var */\n/* eslint-disable no-bitwise */\n/* eslint-disable no-param-reassign */\n/* eslint-disable no-fallthrough */\n/* eslint-disable no-underscore-dangle */\n/* eslint-disable default-case */\n/* eslint-disable prefer-destructuring */\n/*\n * ByteArray enconding from google-closure-library\n */\n\nconst SEED32 = 314159265;\nconst CONSTANT32 = -1640531527;\n\n/**\n * Performs an inplace mix of an object with the integer properties (a, b, c)\n * and returns the final value of c.\n * @param {Object} mix Object with properties, a, b, and c.\n * @return {number} The end c-value for the mixing.\n * @private\n */\nconst mix32_ = (mix) => {\n  var a = mix.a;\n  var b = mix.b;\n  var c = mix.c;\n  a -= b;\n  a -= c;\n  a ^= c >>> 13;\n  b -= c;\n  b -= a;\n  b ^= a << 8;\n  c -= a;\n  c -= b;\n  c ^= b >>> 13;\n  a -= b;\n  a -= c;\n  a ^= c >>> 12;\n  b -= c;\n  b -= a;\n  b ^= a << 16;\n  c -= a;\n  c -= b;\n  c ^= b >>> 5;\n  a -= b;\n  a -= c;\n  a ^= c >>> 3;\n  b -= c;\n  b -= a;\n  b ^= a << 10;\n  c -= a;\n  c -= b;\n  c ^= b >>> 15;\n  mix.a = a;\n  mix.b = b;\n  mix.c = c;\n  return c;\n};\n\n/**\n * Converts an unsigned \"byte\" to signed, that is, convert a value in the range\n * (0, 2^8-1) to (-2^7, 2^7-1) in order to be compatible with Java's byte type.\n * @param {number} n Unsigned \"byte\" value.\n * @return {number} Signed \"byte\" value.\n * @private\n */\nconst toSigned_ = (n) => {\n  return n > 127 ? n - 256 : n;\n};\n\nconst wordAt_ = (bytes, offset) => {\n  var a = toSigned_(bytes[offset + 0]);\n  var b = toSigned_(bytes[offset + 1]);\n  var c = toSigned_(bytes[offset + 2]);\n  var d = toSigned_(bytes[offset + 3]);\n  return a + (b << 8) + (c << 16) + (d << 24);\n};\n\n/**\n * Hashes a \"byte\" array to a 32-bit value using the supplied seed.\n */\nexport function encodeByteArray(bytes) {\n  var offset = 0;\n  var length = bytes.length;\n  var seed = SEED32;\n\n  var mix = {\n    a: CONSTANT32,\n    b: CONSTANT32,\n    c: seed,\n  };\n\n  var keylen;\n  for (keylen = length; keylen >= 12; keylen -= 12, offset += 12) {\n    mix.a += wordAt_(bytes, offset);\n    mix.b += wordAt_(bytes, offset + 4);\n    mix.c += wordAt_(bytes, offset + 8);\n    mix32_(mix);\n  }\n  // Hash any remaining bytes\n  mix.c += length;\n  switch (keylen) {  // deal with rest.  Some cases fall through\n    case 11:\n      mix.c += (bytes[offset + 10]) << 24;\n    case 10:\n      mix.c += (bytes[offset + 9] & 0xff) << 16;\n    case 9:\n      mix.c += (bytes[offset + 8] & 0xff) << 8;\n    // the first byte of c is reserved for the length\n    case 8:\n      mix.b += wordAt_(bytes, offset + 4);\n      mix.a += wordAt_(bytes, offset);\n      break;\n    case 7:\n      mix.b += (bytes[offset + 6] & 0xff) << 16;\n    case 6:\n      mix.b += (bytes[offset + 5] & 0xff) << 8;\n    case 5:\n      mix.b += (bytes[offset + 4] & 0xff);\n    case 4:\n      mix.a += wordAt_(bytes, offset);\n      break;\n    case 3:\n      mix.a += (bytes[offset + 2] & 0xff) << 16;\n    case 2:\n      mix.a += (bytes[offset + 1] & 0xff) << 8;\n    case 1:\n      mix.a += (bytes[offset + 0] & 0xff);\n      // case 0 : nothing left to add\n  }\n  return mix32_(mix);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/hash32.js","/**\n * BlinkTradeJS SDK\n * (c) 2016-present BlinkTrade, Inc.\n *\n * This file is part of BlinkTradeJS\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n/* eslint-disable no-param-reassign */\n/* eslint-disable no-plusplus */\n/* eslint-disable import/prefer-default-export */\n/* eslint-disable no-restricted-properties */\n/* eslint-disable no-buffer-constructor */\n\nimport ip from 'ip';\nimport dgram from 'dgram';\n\nconst stunIp = { local: null, public: [] };\n\nfunction addIPAddress(ipAddress) {\n  if (ipAddress.match(/^(192\\.168\\.|169\\.254\\.|10\\.|172\\.(1[6-9]|2\\d|3[01]))/)) {\n    stunIp.local = ipAddress;\n  } else if (stunIp.public.indexOf(ipAddress) === -1) {\n    stunIp.public.push(ipAddress);\n  }\n}\n\nexport function getStun(callback) {\n  const socket = dgram.createSocket('udp4');\n\n  const STUN_HEADER_LENGTH = 20;\n  const stunRequest = new Buffer(STUN_HEADER_LENGTH);\n\n  const STUN_METHOD_REQUEST = 0x000;\n  const STUN_BINDING_CLASS = 0x0001;\n  const STUN_MAGIC_COOKIE = 0x2112A442;\n  const STUN_TID_MAX = Math.pow(2, 32);\n\n  const STUN_ATTR_MAPPED_ADDRESS = 0x0001;\n  const STUN_ATTR_XOR_MAPPED_ADDRESS = 0x8020;\n  const STUN_ATTR_XOR_MAPPED_ADDRESS_ALT = 0x0020;\n\n  const stunTxId = (Math.random() * STUN_TID_MAX);\n\n  const stunServers = [\n    [3478, 'stun.services.mozilla.com'],\n    [19302, 'stun.l.google.com'],\n    [3478, 'stun.stunprotocol.org'],\n    [3478, 'stun.softjoys.com'],\n    [3478, 'stun.samsungsmartcam.com'],\n    [3478, 'stun.sonetel.com'],\n    [3478, 'stun.tagan.ru'],\n    [3478, 'stun.voipgain.com'],\n    [3478, 'stunserver.org'],\n    [3478, 'stun.advfn.com'],\n    [3478, 'stun.annatel.net'],\n    [3478, 'stun.freevoipdeal.com'],\n  ];\n\n  stunRequest.writeUInt16BE(((STUN_BINDING_CLASS | STUN_METHOD_REQUEST) & 0x3fff), 0);\n  stunRequest.writeUInt16BE(0, 2);\n  stunRequest.writeUInt32BE(STUN_MAGIC_COOKIE, 4);\n  stunRequest.writeUInt32BE(0, 8);\n  stunRequest.writeUInt32BE(0, 12);\n  stunRequest.writeUInt32BE(stunTxId, 16);\n\n  socket.on('message', (msg) => {\n    const xor = (a, b) => {\n      const data = [];\n      if (b.length > a.length) {\n        const tmp = a;\n        a = b;\n        b = tmp;\n      }\n      for (let i = 0, len = a.length; i < len; i++) {\n        data.push(a[i] ^ b[i]);\n      }\n\n      return new Buffer(data);\n    };\n\n    const block = msg.readUInt8(0);\n    const bit1 = block & 0x80;\n    const bit2 = block & 0x40;\n\n    if (!(bit1 === 0 && bit2 === 0)) {\n      return;\n    }\n\n    const msgHeader = msg.slice(0, STUN_HEADER_LENGTH);\n    const msgAttrs = msg.slice(STUN_HEADER_LENGTH, msg.length);\n\n    let offset = 0;\n\n    while (offset < msgAttrs.length) {\n      const attrType = msgAttrs.readUInt16BE(offset);\n      offset += 2;\n\n      let attrBuffLength = msgAttrs.readUInt16BE(offset);\n      const blockOut = attrBuffLength % 4;\n      if (blockOut > 0) {\n        attrBuffLength += 4 - blockOut;\n      }\n      offset += 2;\n\n      const value = msgAttrs.slice(offset, offset + attrBuffLength);\n      offset += attrBuffLength;\n\n      let family;\n      let address;\n      switch (attrType) {\n        case STUN_ATTR_MAPPED_ADDRESS:\n          family = (value.readUInt16BE(0) === 0x02) ? 6 : 4;\n          address = ip.toString(value, 4, family);\n          addIPAddress(address);\n          break;\n\n        case STUN_ATTR_XOR_MAPPED_ADDRESS:\n        case STUN_ATTR_XOR_MAPPED_ADDRESS_ALT:\n          family = (value.readUInt16BE(0) === 0x02) ? 6 : 4;\n          const magic = msgHeader.slice(4, 8);\n          const tid = msgHeader.slice(8, 20);\n          const xaddr = value.slice(4, family === 4 ? 8 : 20);\n          const addr = xor(xaddr, family === 4 ? magic : value.concat([magic, tid]));\n          address = ip.toString(addr, 0, family);\n          addIPAddress(address);\n          break;\n        default:\n      }\n    }\n\n    callback(stunIp);\n  });\n\n  stunServers.map(([port, host]) => socket.send(stunRequest, 0, stunRequest.length, port, host, () => {}));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/stun.js","module.exports = require(\"ip\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ip\"\n// module id = 20\n// module chunks = 0","module.exports = require(\"dgram\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"dgram\"\n// module id = 21\n// module chunks = 0","module.exports = require(\"os\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"os\"\n// module id = 22\n// module chunks = 0","/**\n * BlinkTradeJS SDK\n * (c) 2016-present BlinkTrade, Inc.\n *\n * This file is part of BlinkTradeJS\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n * @flow\n */\n\nimport nodeify from 'nodeify';\nimport RestTransport from './restTransport';\n\nclass BlinkTradeRest extends RestTransport {\n  ticker(callback?: Function): Promise<Object> {\n    return nodeify.extend(super.fetchPublic('ticker')).nodeify(callback);\n  }\n\n  trades({ limit = 1000, since = '0' }: {\n    limit: number,\n    since: string,\n  } = {}, callback?: Function): Promise<Object> {\n    return nodeify.extend(super.fetchPublic(`trades?limit=${limit}&since=${since}`)).nodeify(callback);\n  }\n\n  orderbook(callback?: Function): Promise<Object> {\n    return nodeify.extend(super.fetchPublic('orderbook')).nodeify(callback);\n  }\n}\n\nexport default BlinkTradeRest;\n\n\n\n// WEBPACK FOOTER //\n// ./src/rest.js","/**\n * BlinkTradeJS SDK\n * (c) 2016-present BlinkTrade, Inc.\n *\n * This file is part of BlinkTradeJS\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n * @flow\n */\n\nimport sjcl from 'sjcl';\nimport url from 'url';\nimport path from 'path';\nimport BaseTransport from './baseTransport';\n\nclass RestTransport extends BaseTransport {\n  /**\n   * APIKey\n   */\n  key: string;\n\n  /**\n   * APISecret\n   */\n  secret: string;\n\n  /**\n   * Exchanges currencies available.\n   */\n  currency: 'USD' | 'BRL' | 'VEF' | 'CLP' | 'VND' | 'PKR';\n\n  /**\n   * Fetch rest API\n   */\n  fetchRequest: Function\n\n  constructor(params: BlinkTradeRest) {\n    super(params, 'rest');\n\n    this.key = params.key;\n    this.secret = params.secret;\n    this.currency = params.currency || 'USD';\n\n    /* eslint-disable indent */\n    this.fetchRequest =\n        this.isNode    ? require('isomorphic-fetch')\n      : this.isBrowser ? require('fetch-jsonp')\n      :                  window.fetch;\n    /* eslint-enable indent */\n  }\n\n  headers(method: string, body: Object): Object {\n    const timeStamp = Date.now().toString();\n    const hexKey = sjcl.codec.utf8String.toBits(this.secret);\n    const hmac = new sjcl.misc.hmac(hexKey, sjcl.hash.sha256);\n    const Signature = sjcl.codec.hex.fromBits(hmac.encrypt(timeStamp));\n    return {\n      method,\n      headers: {\n        'Content-Type': 'application/json',\n        Nonce: timeStamp,\n        APIKey: this.key,\n        Signature,\n      },\n      body: JSON.stringify(body),\n    };\n  }\n\n  fetch(msg: Object, api: string, headers?: Object = {}): Promise<Object> {\n    return this.fetchRequest(url.resolve(this.endpoint, api), headers)\n      .then(response => response.json());\n  }\n\n  fetchPublic(api: string): Promise<Object> {\n    return this.fetch({}, path.join('api/v1', this.currency, api));\n  }\n\n  fetchTrade(msg: Object): Promise<Object> {\n    const headers = this.headers('POST', msg);\n    return this.fetch(msg, 'tapi/v1/message', headers)\n      .then(response => (response.Status === 500 ? Promise.reject(response) : response.Responses))\n      .then(response => (response.length === 1 ? response[0] : response));\n  }\n}\n\nexport default RestTransport;\n\n\n\n// WEBPACK FOOTER //\n// ./src/restTransport.js","module.exports = require(\"sjcl\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"sjcl\"\n// module id = 25\n// module chunks = 0","module.exports = require(\"url\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"url\"\n// module id = 26\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 27\n// module chunks = 0","module.exports = require(\"isomorphic-fetch\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"isomorphic-fetch\"\n// module id = 28\n// module chunks = 0","module.exports = require(\"fetch-jsonp\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fetch-jsonp\"\n// module id = 29\n// module chunks = 0"],"sourceRoot":""}